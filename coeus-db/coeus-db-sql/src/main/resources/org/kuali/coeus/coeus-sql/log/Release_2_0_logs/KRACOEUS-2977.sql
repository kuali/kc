CREATE OR REPLACE VIEW OSP$PROPOSAL_INVESTIGATORS AS
SELECT
    PROPOSAL_NUMBER,
    SEQUENCE_NUMBER,
    case when ROLODEX_ID is null then PERSON_ID else cast(ROLODEX_ID as char) end PERSON_ID,
    PERSON_NAME,
    case when PROP_PERSON_ROLE_ID = 'PI' then 'Y' else 'N' end PRINCIPAL_INVESTIGATOR_FLAG,
    FACULTY_FLAG,
    case when PERSON_ID is null then 'Y' else 'N' end NON_MIT_PERSON_FLAG,
    CONFLICT_OF_INTEREST_FLAG,
    PERCENTAGE_EFFORT,
    FEDR_DEBR_FLAG,
    FEDR_DELQ_FLAG,
    UPDATE_TIMESTAMP,
    UPDATE_USER,
    MULTI_PI_FLAG,
    ACADEMIC_YEAR_EFFORT,
    SUMMER_YEAR_EFFORT,
    CALENDAR_YEAR_EFFORT
FROM PROPOSAL_PERSONS; 

commit;