-- Change for KRACOEUS-4407 --
ALTER TABLE AWARD MODIFY (DOCUMENT_NUMBER VARCHAR2(40));
ALTER TABLE AWARD_AMOUNT_INFO MODIFY (TNM_DOCUMENT_NUMBER VARCHAR2(40));
ALTER TABLE AWARD_BUDGET_EXT MODIFY (DOCUMENT_NUMBER VARCHAR2(40));
ALTER TABLE AWARD_DOCUMENT MODIFY (DOCUMENT_NUMBER VARCHAR2(40));
ALTER TABLE BUDGET MODIFY (DOCUMENT_NUMBER VARCHAR2(40));
ALTER TABLE BUDGET_DOCUMENT MODIFY (DOCUMENT_NUMBER VARCHAR2(40));
ALTER TABLE CUSTOM_ATTRIBUTE_DOC_VALUE MODIFY (DOCUMENT_NUMBER VARCHAR2(40));
ALTER TABLE DOCUMENT_NEXTVALUE MODIFY (DOCUMENT_NUMBER VARCHAR2(40));

ALTER TABLE EPS_PROPOSAL 
  DROP CONSTRAINT FK_EPS_PROPOSAL_DOCUMENT;
ALTER TABLE EPS_PROPOSAL MODIFY (DOCUMENT_NUMBER VARCHAR2(40));
ALTER TABLE EPS_PROPOSAL_DOCUMENT MODIFY (DOCUMENT_NUMBER VARCHAR2(40));
ALTER TABLE EPS_PROPOSAL
  ADD CONSTRAINT FK_EPS_PROPOSAL_DOCUMENT FOREIGN KEY (DOCUMENT_NUMBER)
  REFERENCES EPS_PROPOSAL_DOCUMENT (DOCUMENT_NUMBER);

ALTER TABLE EPS_PROPOSAL_BUDGET_EXT MODIFY (DOCUMENT_NUMBER VARCHAR2(40));
ALTER TABLE INSTITUTE_PROPOSAL_DOCUMENT MODIFY (DOCUMENT_NUMBER VARCHAR2(40));
ALTER TABLE PROPOSAL MODIFY (DOCUMENT_NUMBER VARCHAR2(40));
ALTER TABLE TIME_AND_MONEY_DOCUMENT MODIFY (DOCUMENT_NUMBER VARCHAR2(40));
ALTER TABLE TRANSACTION_DETAILS MODIFY (TNM_DOCUMENT_NUMBER VARCHAR2(40));

-- Change for KCIRB-1309 --
ALTER TABLE COMMITTEE 
  DROP CONSTRAINT FK_COMMITTEE_DOCUMENT;
ALTER TABLE COMMITTEE MODIFY (DOCUMENT_NUMBER VARCHAR2(40));
ALTER TABLE COMMITTEE_DOCUMENT MODIFY (DOCUMENT_NUMBER VARCHAR2(40));
ALTER TABLE COMMITTEE
  ADD CONSTRAINT FK_COMMITTEE_DOCUMENT FOREIGN KEY (DOCUMENT_NUMBER)
  REFERENCES COMMITTEE_DOCUMENT (DOCUMENT_NUMBER);

ALTER TABLE PROTOCOL 
  DROP CONSTRAINT FK_PROTOCOL_DOCUMENT;
ALTER TABLE PROTOCOL MODIFY (DOCUMENT_NUMBER VARCHAR2(40));
ALTER TABLE PROTOCOL_DOCUMENT MODIFY (DOCUMENT_NUMBER VARCHAR2(40));
ALTER TABLE PROTOCOL
  ADD CONSTRAINT FK_PROTOCOL_DOCUMENT FOREIGN KEY (DOCUMENT_NUMBER)
  REFERENCES PROTOCOL_DOCUMENT (DOCUMENT_NUMBER);

ALTER TABLE PROTOCOL_ONLN_RVWS 
  DROP CONSTRAINT FK6_PROTOCOL_ONLN_RVW_DOCUMENT;
ALTER TABLE PROTOCOL_ONLN_RVWS MODIFY (DOCUMENT_NUMBER VARCHAR2(40));
ALTER TABLE PROTOCOL_ONLN_RVW_DOCUMENT MODIFY (DOCUMENT_NUMBER VARCHAR2(40));
ALTER TABLE PROTOCOL_ONLN_RVWS
  ADD CONSTRAINT FK6_PROTOCOL_ONLN_RVW_DOCUMENT FOREIGN KEY (DOCUMENT_NUMBER)
  REFERENCES PROTOCOL_ONLN_RVW_DOCUMENT (DOCUMENT_NUMBER);

ALTER TABLE QUESTIONNAIRE 
  ADD (DOCUMENT_NUMBER_TEMP VARCHAR2(40));
UPDATE QUESTIONNAIRE
  SET DOCUMENT_NUMBER_TEMP = DOCUMENT_NUMBER;  
ALTER TABLE QUESTIONNAIRE
  DROP COLUMN DOCUMENT_NUMBER;
ALTER TABLE QUESTIONNAIRE 
  ADD (DOCUMENT_NUMBER VARCHAR2(40));
UPDATE QUESTIONNAIRE
  SET DOCUMENT_NUMBER = DOCUMENT_NUMBER_TEMP;  
ALTER TABLE QUESTIONNAIRE
  DROP COLUMN DOCUMENT_NUMBER_TEMP;