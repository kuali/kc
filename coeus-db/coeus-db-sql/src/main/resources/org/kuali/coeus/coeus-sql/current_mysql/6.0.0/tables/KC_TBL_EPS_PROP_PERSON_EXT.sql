DELIMITER /
alter table EPS_PROP_PERSON add CITIZENSHIP_TYPE_CODE decimal(15,0)
/

update EPS_PROP_PERSON pp set pp.AGE_BY_FISCAL_YEAR = (select AGE_BY_FISCAL_YEAR from EPS_PROP_PERSON_EXT ext where ext.PROPOSAL_NUMBER = pp.PROPOSAL_NUMBER and ext.PROP_PERSON_NUMBER = pp.PROP_PERSON_NUMBER)
/

update EPS_PROP_PERSON pp set pp.RACE = (select RACE from EPS_PROP_PERSON_EXT ext where ext.PROPOSAL_NUMBER = pp.PROPOSAL_NUMBER and ext.PROP_PERSON_NUMBER = pp.PROP_PERSON_NUMBER)
/

update EPS_PROP_PERSON pp set pp.IS_HANDICAPPED = (select IS_HANDICAPPED from EPS_PROP_PERSON_EXT ext where ext.PROPOSAL_NUMBER = pp.PROPOSAL_NUMBER and ext.PROP_PERSON_NUMBER = pp.PROP_PERSON_NUMBER)
/

update EPS_PROP_PERSON pp set pp.HANDICAP_TYPE = (select HANDICAP_TYPE from EPS_PROP_PERSON_EXT ext where ext.PROPOSAL_NUMBER = pp.PROPOSAL_NUMBER and ext.PROP_PERSON_NUMBER = pp.PROP_PERSON_NUMBER)
/

update EPS_PROP_PERSON pp set pp.IS_VETERAN = (select IS_VETERAN from EPS_PROP_PERSON_EXT ext where ext.PROPOSAL_NUMBER = pp.PROPOSAL_NUMBER and ext.PROP_PERSON_NUMBER = pp.PROP_PERSON_NUMBER)
/

update EPS_PROP_PERSON pp set pp.VETERAN_TYPE = (select VETERAN_TYPE from EPS_PROP_PERSON_EXT ext where ext.PROPOSAL_NUMBER = pp.PROPOSAL_NUMBER and ext.PROP_PERSON_NUMBER = pp.PROP_PERSON_NUMBER)
/

update EPS_PROP_PERSON pp set pp.VISA_CODE = (select VISA_CODE from EPS_PROP_PERSON_EXT ext where ext.PROPOSAL_NUMBER = pp.PROPOSAL_NUMBER and ext.PROP_PERSON_NUMBER = pp.PROP_PERSON_NUMBER)
/

update EPS_PROP_PERSON pp set pp.VISA_TYPE = (select VISA_TYPE from EPS_PROP_PERSON_EXT ext where ext.PROPOSAL_NUMBER = pp.PROPOSAL_NUMBER and ext.PROP_PERSON_NUMBER = pp.PROP_PERSON_NUMBER)
/

update EPS_PROP_PERSON pp set pp.VISA_RENEWAL_DATE = (select VISA_RENEWAL_DATE from EPS_PROP_PERSON_EXT ext where ext.PROPOSAL_NUMBER = pp.PROPOSAL_NUMBER and ext.PROP_PERSON_NUMBER = pp.PROP_PERSON_NUMBER)
/

update EPS_PROP_PERSON pp set pp.HAS_VISA = (select HAS_VISA from EPS_PROP_PERSON_EXT ext where ext.PROPOSAL_NUMBER = pp.PROPOSAL_NUMBER and ext.PROP_PERSON_NUMBER = pp.PROP_PERSON_NUMBER)
/

update EPS_PROP_PERSON pp set pp.DIRECTORY_DEPARTMENT = (select DIRECTORY_DEPARTMENT from EPS_PROP_PERSON_EXT ext where ext.PROPOSAL_NUMBER = pp.PROPOSAL_NUMBER and ext.PROP_PERSON_NUMBER = pp.PROP_PERSON_NUMBER)
/

update EPS_PROP_PERSON pp set pp.IS_RESEARCH_STAFF = (select IS_RESEARCH_STAFF from EPS_PROP_PERSON_EXT ext where ext.PROPOSAL_NUMBER = pp.PROPOSAL_NUMBER and ext.PROP_PERSON_NUMBER = pp.PROP_PERSON_NUMBER)
/

update EPS_PROP_PERSON pp set pp.VACATION_ACCURAL = (select VACATION_ACCURAL from EPS_PROP_PERSON_EXT ext where ext.PROPOSAL_NUMBER = pp.PROPOSAL_NUMBER and ext.PROP_PERSON_NUMBER = pp.PROP_PERSON_NUMBER)
/

update EPS_PROP_PERSON pp set pp.IS_ON_SABBATICAL = (select IS_ON_SABBATICAL from EPS_PROP_PERSON_EXT ext where ext.PROPOSAL_NUMBER = pp.PROPOSAL_NUMBER and ext.PROP_PERSON_NUMBER = pp.PROP_PERSON_NUMBER)
/

update EPS_PROP_PERSON pp set pp.ID_PROVIDED = (select ID_PROVIDED from EPS_PROP_PERSON_EXT ext where ext.PROPOSAL_NUMBER = pp.PROPOSAL_NUMBER and ext.PROP_PERSON_NUMBER = pp.PROP_PERSON_NUMBER)
/

update EPS_PROP_PERSON pp set pp.ID_VERIFIED = (select ID_VERIFIED from EPS_PROP_PERSON_EXT ext where ext.PROPOSAL_NUMBER = pp.PROPOSAL_NUMBER and ext.PROP_PERSON_NUMBER = pp.PROP_PERSON_NUMBER)
/

update EPS_PROP_PERSON pp set pp.CITIZENSHIP_TYPE_CODE = (select CITIZENSHIP_TYPE_CODE from EPS_PROP_PERSON_EXT ext where ext.PROPOSAL_NUMBER = pp.PROPOSAL_NUMBER and ext.PROP_PERSON_NUMBER = pp.PROP_PERSON_NUMBER)
/

drop table EPS_PROP_PERSON_EXT
/
 
DELIMITER ;
