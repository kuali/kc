CREATE OR REPLACE PROCEDURE GET_BUDGET_SUB_AWARD_ATT_ALL
   ( AW_PROPOSAL_NUMBER IN OSP$BUDGET_SUB_AWARD_ATT.proposal_number%TYPE,
     AW_VERSION_NUMBER IN OSP$BUDGET_SUB_AWARD_ATT.VERSION_NUMBER%TYPE,
	 cur_budget_sub_award_att IN OUT result_sets.cur_generic) is
begin
open cur_budget_sub_award_att for
    select PROPOSAL_NUMBER, VERSION_NUMBER, SUB_AWARD_NUMBER, CONTENT_ID, CONTENT_TYPE,ATTACHMENT,
	UPDATE_USER, UPDATE_TIMESTAMP from OSP$BUDGET_SUB_AWARD_ATT
    WHERE PROPOSAL_NUMBER = AW_PROPOSAL_NUMBER and
          VERSION_NUMBER = AW_VERSION_NUMBER order by SUB_AWARD_NUMBER asc;
end;
/

