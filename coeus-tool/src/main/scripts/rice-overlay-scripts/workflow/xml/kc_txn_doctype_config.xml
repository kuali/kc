<?xml version="1.0" encoding="UTF-8"?>
<!--
   - Kuali Coeus, a comprehensive research administration system for higher education.
   - 
   - Copyright 2005-2015 Kuali, Inc.
   - 
   - This program is free software: you can redistribute it and/or modify
   - it under the terms of the GNU Affero General Public License as
   - published by the Free Software Foundation, either version 3 of the
   - License, or (at your option) any later version.
   - 
   - This program is distributed in the hope that it will be useful,
   - but WITHOUT ANY WARRANTY; without even the implied warranty of
   - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
   - GNU Affero General Public License for more details.
   - 
   - You should have received a copy of the GNU Affero General Public License
   - along with this program.  If not, see <http://www.gnu.org/licenses/>.
 -->
<data xmlns="ns:workflow" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="ns:workflow resource:WorkflowData">
  <groups xmlns="ns:workflow/Group" xsi:schemaLocation="ns:workflow/Group resource:Group">
    <group>
      <name>IACUCAdmin</name>
      <namespace>KC-WKFLW</namespace>
      <description>IACUC Administrator</description>
      <members>
	<principalName>kr</principalName>
      </members>
    </group>
  </groups>
  <ruleAttributes xmlns="ns:workflow/RuleAttribute" xsi:schemaLocation="ns:workflow/RuleAttribute resource:RuleAttribute">
    <ruleAttribute>
      <name>CoiDisclosureApprover-XPathQualifierResolver</name>
      <className>org.kuali.rice.kew.role.XPathQualifierResolver</className>
      <label>CoiDisclosureApprover-XPathQualifierResolver</label>
      <description>To limit the Approval Request to be routed to CoiDisclosureApprovers for this protocol only</description>
      <type>QualifierResolver</type>
      <serviceNamespace>KC</serviceNamespace>
      <resolverConfig>
	<!-- For unit hierarchy type roles, the unit number attribute needs to be sent to the resolver.
	     The attribute name here is really the KRIM_ATTR_DEFN_T name. So the attribute name SHOULD be unitNumber, 
	     not leadUnitNumber otherwise KIM will not be able to match this with the
	     KRIM_ATTR_DEFN_T type "unitNumber" that is mapped to KRIM_ROLE_MBR_ATTR_DATA_T for the members of the 
	     role COI Administrator -->
	<attributes name="unitNumber">
	  <!-- This gigantic xpath expression is because the lead unit number is not actually stored in the disclosure
	       but in the disclosurePersonUnit which is in disclosurePerson which is in disclosure. If this results in overhead, unitNUmber
	       should be stored in the coiDisclosure itself-->
	  <xPathExpression>//document/coiDisclosureList[1]/org.kuali.kra.coi.CoiDisclosure[1]/disclosurePersons[1]/org.kuali.kra.coi.disclosure.DisclosurePerson[1]/disclosurePersonUnits[1]/org.kuali.kra.coi.disclosure.DisclosurePersonUnit[1]/unitNumber[1]</xPathExpression>
	</attributes>
      </resolverConfig>
    </ruleAttribute>		
    <ruleAttribute>
      <name>TimeAndMoneyAwardIdSearchAttribute</name>
      <className>org.kuali.rice.kew.docsearch.xml.StandardGenericXMLSearchableAttribute</className>
      <label>TimeAndMoneyAwardIdSearchAttribute</label>
      <description>TimeAndMoneyAwardIdSearchAttribute</description>
      <type>SearchableXmlAttribute</type>
      <serviceNamespace>KC</serviceNamespace>
      <searchingConfig>
	<fieldDef name="timeAndMoneyAwardId" title="Award ID">
	  <display>
	    <type>text</type>
	  </display>
	  <lookup businessObjectClass="org.kuali.kra.award.home.Award">
	    <fieldConversions>
	      <fieldConversion lookupFieldName="awardNumber" localFieldName="timeAndMoneyAwardId"/>
	    </fieldConversions>
	  </lookup>
	  <fieldEvaluation>
	    <xpathexpression>//award/awardNumber</xpathexpression>
	  </fieldEvaluation>
	</fieldDef>
      </searchingConfig>
    </ruleAttribute>
    <ruleAttribute>
      <name>TimeAndMoneyAwardTitleSearchAttribute</name>
      <className>org.kuali.rice.kew.docsearch.xml.StandardGenericXMLSearchableAttribute</className>
      <label>TimeAndMoneyAwardTitleSearchAttribute</label>
      <description>TimeAndMoneyAwardTitleSearchAttribute</description>
      <type>SearchableXmlAttribute</type>
      <serviceNamespace>KC</serviceNamespace>
      <searchingConfig>
	<fieldDef name="timeAndMoneyAwardTitle" title="Award Title">
	  <display>
	    <type>text</type>
	  </display>
	  <lookup businessObjectClass="org.kuali.kra.award.home.Award">
	    <fieldConversions>
	      <fieldConversion lookupFieldName="title" localFieldName="timeAndMoneyAwardTitle"/>
	    </fieldConversions>
	  </lookup>
	  <fieldEvaluation>
	    <xpathexpression>//award/title</xpathexpression>
	  </fieldEvaluation>
	</fieldDef>
      </searchingConfig>
    </ruleAttribute>
    <ruleAttribute>
      <name>TimeAndMoneyAccoutNumberSearchAttribute</name>
      <className>org.kuali.rice.kew.docsearch.xml.StandardGenericXMLSearchableAttribute</className>
      <label>TimeAndMoneyAccoutNumberSearchAttribute</label>
      <description>TimeAndMoneyAccoutNumberSearchAttribute</description>
      <type>SearchableXmlAttribute</type>
      <serviceNamespace>KC</serviceNamespace>
      <searchingConfig>
	<fieldDef name="timeAndMoneyAccountNumber" title="Account ID">
	  <display>
	    <type>text</type>
	  </display>
	  <lookup businessObjectClass="org.kuali.kra.award.home.Award">
	    <fieldConversions>
	      <fieldConversion lookupFieldName="accountNumber" localFieldName="timeAndMoneyAccountNumber"/>
	    </fieldConversions>
	  </lookup>
	  <fieldEvaluation>
	    <xpathexpression>//award/accountNumber</xpathexpression>
	  </fieldEvaluation>
	</fieldDef>
      </searchingConfig>
    </ruleAttribute>
    <ruleAttribute>
      <name>TimeAndMoneyInvestigatorSearchAttribute</name>
      <className>org.kuali.rice.kew.docsearch.xml.StandardGenericXMLSearchableAttribute</className>
      <label>TimeAndMoneyInvestigatorSearchAttribute</label>
      <description>TimeAndMoneyInvestigatorSearchAttribute</description>
      <type>SearchableXmlAttribute</type>
      <serviceNamespace>KC</serviceNamespace>
      <searchingConfig>
	<fieldDef name="timeAndMoneyInvestigator" title="Investigator">
	  <display>
	    <type>text</type>
	  </display>
	  <lookup businessObjectClass="org.kuali.coeus.common.framework.person.KcPerson">
	    <fieldConversions>
	      <fieldConversion lookupFieldName="fullName" localFieldName="timeAndMoneyInvestigator"/>
	    </fieldConversions>
	  </lookup>
	  <fieldEvaluation>
	    <xpathexpression>//award/principalInvestigatorName</xpathexpression>
	  </fieldEvaluation>
	</fieldDef>
      </searchingConfig>
    </ruleAttribute>
    <ruleAttribute>
      <name>TimeAndMoneyLeadUnitSearchAttribute</name>
      <className>org.kuali.rice.kew.docsearch.xml.StandardGenericXMLSearchableAttribute</className>
      <label>TimeAndMoneyLeadUnitSearchAttribute</label>
      <description>TimeAndMoneyLeadUnitSearchAttribute</description>
      <type>SearchableXmlAttribute</type>
      <serviceNamespace>KC</serviceNamespace>
      <searchingConfig>
	<fieldDef name="timeAndMoneyLeadUnit" title="Lead Unit">
	  <display>
	    <type>text</type>
	  </display>
	  <lookup businessObjectClass="org.kuali.coeus.common.framework.unit.Unit">
	    <fieldConversions>
	      <fieldConversion lookupFieldName="unitNumber" localFieldName="timeAndMoneyLeadUnit"/>
	    </fieldConversions>
	  </lookup>
	  <fieldEvaluation>
	    <xpathexpression>//award/leadUnit/unitNumber</xpathexpression>
	  </fieldEvaluation>
	</fieldDef>
      </searchingConfig>
    </ruleAttribute>
    <ruleAttribute>
      <name>TimeAndMoneySponsorSearchAttribute</name>
      <className>org.kuali.rice.kew.docsearch.xml.StandardGenericXMLSearchableAttribute</className>
      <label>TimeAndMoneySponsorSearchAttribute</label>
      <description>TimeAndMoneySponsorSearchAttribute</description>
      <type>SearchableXmlAttribute</type>
      <serviceNamespace>KC</serviceNamespace>
      <searchingConfig>
	<fieldDef name="timeAndMoneySponsor" title="Sponsor">
	  <display>
	    <type>text</type>
	  </display>
	  <lookup businessObjectClass="org.kuali.coeus.common.framework.sponsor.Sponsor">
	    <fieldConversions>
	      <fieldConversion lookupFieldName="sponsorCode" localFieldName="timeAndMoneySponsor"/>
	    </fieldConversions>
	  </lookup>
	  <fieldEvaluation>
	    <xpathexpression>//award/sponsor/sponsorCode</xpathexpression>
	  </fieldEvaluation>
	</fieldDef>
      </searchingConfig>
    </ruleAttribute>
    <ruleAttribute>
      <name>IACUC ProtocolApprover-XPathQualifierResolver</name>
      <className>org.kuali.kra.iacuc.IacucProtocolQualifierResolver</className>
      <label>IACUC ProtocolApprover-XPathQualifierResolver</label>
      <description>To limit the Approval Request to be routed to IACUC ProtocolApprovers for this protocol only</description>
      <type>QualifierResolver</type>
      <serviceNamespace>KC</serviceNamespace>
      <resolverConfig>
	<attributes name="protocol">
	  <xPathExpression>//document/protocolList[1]/org.kuali.kra.iacuc.IacucProtocol[1]/protocolNumber[1]</xPathExpression>
	</attributes>
	<attributes name="unitNumber">
	  <xPathExpression>//document/protocolList[1]/org.kuali.kra.iacuc.IacucProtocol[1]/leadUnitNumber[1]</xPathExpression>
	</attributes>
      </resolverConfig>
    </ruleAttribute>
    <ruleAttribute>
      <serviceNamespace>KC</serviceNamespace>
      <name>AwardCustomDataAttribute</name>
      <className>org.kuali.rice.kew.rule.xmlrouting.StandardGenericXMLRuleAttribute</className>
      <label>AwardCustomDataAttribute</label>
      <description>AwardCustomDataAttribute</description>
      <type>RuleXmlAttribute</type>
      <routingConfig>
	<fieldDef name="billingElement" title="Billing Element" workflowType="RULE">
	  <display>
	    <type>text</type>
	  </display>
	  <validation required="false" />
	  <fieldEvaluation>
	    <xpathexpression>string(//xmlRouting/field[@name='billingElement']/value) = wf:ruledata('billingElement')</xpathexpression>
	  </fieldEvaluation>
	</fieldDef>
	<fieldDef name="costSharingBudget" title="Cost Sharing Budget" workflowType="RULE">
	  <display>
	    <type>text</type>
	  </display>
	  <validation required="false" />
	  <fieldEvaluation>
	    <xpathexpression>string(//xmlRouting/field[@name='costSharingBudget']/value) = wf:ruledata('costSharingBudget')</xpathexpression>
	  </fieldEvaluation>
	</fieldDef>
	<fieldDef name="numberOfTrainees" title="Number of Trainees" workflowType="RULE">
	  <display>
	    <type>text</type>
	  </display>
	  <validation required="false" />
	  <fieldEvaluation>
	    <xpathexpression>string(//xmlRouting/field[@name='numberOfTrainees']/value) = wf:ruledata('numberOfTrainees')</xpathexpression>
	  </fieldEvaluation>
	</fieldDef>
	<fieldDef name="graduateStudentCount" title="Graduate Student Count" workflowType="RULE">
	  <display>
	    <type>text</type>
	  </display>
	  <validation required="false" />
	  <fieldEvaluation>
	    <xpathexpression>string(//xmlRouting/field[@name='graduateStudentCount']/value) = wf:ruledata('graduateStudentCount')</xpathexpression>
	  </fieldEvaluation>
	</fieldDef>
	<fieldDef name="tenured" title="Tenured" workflowType="RULE">
	  <display>
	    <type>text</type>
	  </display>
	  <validation required="false" />
	  <fieldEvaluation>
	    <xpathexpression>string(//xmlRouting/field[@name='tenured']/value) = wf:ruledata('tenured')</xpathexpression>
	  </fieldEvaluation>
	</fieldDef>
	<fieldDef name="exportControls" title="Export Controls" workflowType="RULE">
	  <display>
	    <type>text</type>
	  </display>
	  <validation required="false" />
	  <fieldEvaluation>
	    <xpathexpression>string(//xmlRouting/field[@name='exportControls']/value) = wf:ruledata('exportControls')</xpathexpression>
	  </fieldEvaluation>
	</fieldDef>
	<fieldDef name="inventions" title="Inventions" workflowType="RULE">
	  <display>
	    <type>text</type>
	  </display>
	  <validation required="false" />
	  <fieldEvaluation>
	    <xpathexpression>string(//xmlRouting/field[@name='inventions']/value) = wf:ruledata('inventions')</xpathexpression>
	  </fieldEvaluation>
	</fieldDef>
      </routingConfig>
    </ruleAttribute>
    <ruleAttribute>
      <name>AwardTitleSearchAttribute</name>
      <className>org.kuali.rice.kew.docsearch.xml.StandardGenericXMLSearchableAttribute</className>
      <label>AwardTitleSearchAttribute</label>
      <description>AwardTitleSearchAttribute</description>
      <type>SearchableXmlAttribute</type>
      <serviceNamespace>KC</serviceNamespace>
      <searchingConfig>
	<fieldDef name="title" title="Award Title">
	  <display>
	    <type>text</type>
	  </display>
	  <lookup businessObjectClass="org.kuali.kra.award.home.Award">
	    <fieldConversions>
	      <fieldConversion lookupFieldName="title" localFieldName="title"/>
	    </fieldConversions>
	  </lookup>
	  <fieldEvaluation>
	    <xpathexpression>//awardList/org.kuali.kra.award.home.Award/title</xpathexpression>
	  </fieldEvaluation>
	   </fieldDef>
	 </searchingConfig>
       </ruleAttribute>
       <ruleAttribute>
	 <name>AwardIdSearchAttribute</name>
	 <className>org.kuali.rice.kew.docsearch.xml.StandardGenericXMLSearchableAttribute</className>
	 <label>AwardIdSearchAttribute</label>
	 <description>AwardIdSearchAttribute</description>
	 <type>SearchableXmlAttribute</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <searchingConfig>
	   <fieldDef name="awardId" title="Award ID">
	     <display>
	       <type>text</type>
	     </display>
	     <lookup businessObjectClass="org.kuali.kra.award.home.Award">
	       <fieldConversions>
		 <fieldConversion lookupFieldName="awardNumber" localFieldName="awardId"/>
	       </fieldConversions>
	     </lookup>
	     <fieldEvaluation>
	       <xpathexpression>//awardList/org.kuali.kra.award.home.Award/awardNumber</xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	 </searchingConfig>
       </ruleAttribute>
       <ruleAttribute>
	 <name>AccountNumberSearchAttribute</name>
	 <className>org.kuali.rice.kew.docsearch.xml.StandardGenericXMLSearchableAttribute</className>
	 <label>AccountNumberSearchAttribute</label>
	 <description>AccountNumberSearchAttribute</description>
	 <type>SearchableXmlAttribute</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <searchingConfig>
	   <fieldDef name="accountNumber" title="Account ID">
	     <display>
	       <type>text</type>
	     </display>
	     <lookup businessObjectClass="org.kuali.kra.award.home.Award">
	       <fieldConversions>
		 <fieldConversion lookupFieldName="accountNumber" localFieldName="accountNumber"/>
	       </fieldConversions>
	     </lookup>
	     <fieldEvaluation>
	       <xpathexpression>//awardList/org.kuali.kra.award.home.Award/accountNumber</xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	 </searchingConfig>
       </ruleAttribute>
       <ruleAttribute>
	 <name>InvestigatorSearchAttribute</name>
	 <className>org.kuali.rice.kew.docsearch.xml.StandardGenericXMLSearchableAttribute</className>
	 <label>InvestigatorSearchAttribute</label>
	 <description>InvestigatorSearchAttribute</description>
	 <type>SearchableXmlAttribute</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <searchingConfig>
	   <fieldDef name="principalInvestigatorName" title="Investigator">
	     <display>
	       <type>text</type>
	     </display>
	     <lookup businessObjectClass="org.kuali.coeus.common.framework.person.KcPerson">
	       <fieldConversions>
		 <fieldConversion lookupFieldName="fullName" localFieldName="principalInvestigatorName"/>
	       </fieldConversions>
	     </lookup>
	     <fieldEvaluation>
	       <xpathexpression>//awardList/org.kuali.kra.award.home.Award/principalInvestigatorName</xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	 </searchingConfig>
       </ruleAttribute>
       <ruleAttribute>
	 <name>LeadUnitSearchAttribute</name>
	 <className>org.kuali.rice.kew.docsearch.xml.StandardGenericXMLSearchableAttribute</className>
	 <label>LeadUnitSearchAttribute</label>
	 <description>LeadUnitSearchAttribute</description>
	 <type>SearchableXmlAttribute</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <searchingConfig>
	   <fieldDef name="leadUnit" title="Lead Unit">
	     <display>
	       <type>text</type>
	     </display>
	     <lookup businessObjectClass="org.kuali.coeus.common.framework.unit.Unit">
	       <fieldConversions>
		 <fieldConversion lookupFieldName="unitNumber" localFieldName="leadUnit"/>
	       </fieldConversions>
	     </lookup>
	     <fieldEvaluation>
	       <xpathexpression>//awardList/org.kuali.kra.award.home.Award/leadUnit/unitNumber</xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	 </searchingConfig>
       </ruleAttribute>
       <ruleAttribute>
	 <name>SponsorSearchAttribute</name>
	 <className>org.kuali.rice.kew.docsearch.xml.StandardGenericXMLSearchableAttribute</className>
	 <label>SponsorSearchAttribute</label>
	 <description>SponsorSearchAttribute</description>
	 <type>SearchableXmlAttribute</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <searchingConfig>
	   <fieldDef name="sponsor" title="Sponsor">
	     <display>
	       <type>text</type>
	     </display>
	     <lookup businessObjectClass="org.kuali.coeus.common.framework.sponsor.Sponsor">
	       <fieldConversions>
		 <fieldConversion lookupFieldName="sponsorCode" localFieldName="sponsor"/>
	       </fieldConversions>
	     </lookup>
	     <fieldEvaluation>
	       <xpathexpression>//awardList/org.kuali.kra.award.home.Award/sponsor/sponsorCode</xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	 </searchingConfig>
       </ruleAttribute>
       <ruleAttribute>
	 <name>AwardBudgetAwardIdSearchAttribute</name>
	 <className>org.kuali.rice.kew.docsearch.xml.StandardGenericXMLSearchableAttribute</className>
	 <label>AwardBudgetAwardIdSearchAttribute</label>
	 <description>AwardBudgetAwardIdSearchAttribute</description>
	 <type>SearchableXmlAttribute</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <searchingConfig>
	   <fieldDef name="awardBudgetAwardId" title="Award ID">
	     <display>
	       <type>text</type>
	     </display>
	     <lookup businessObjectClass="org.kuali.kra.award.home.Award">
	       <fieldConversions>
		 <fieldConversion lookupFieldName="awardNumber" localFieldName="awardBudgetAwardId"/>
	       </fieldConversions>
	     </lookup>
	     <fieldEvaluation>
	       <xpathexpression>//currentAward/awardNumber</xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	 </searchingConfig>
       </ruleAttribute>
       <ruleAttribute>
	 <name>AwardBudgetAwardTitleSearchAttribute</name>
	 <className>org.kuali.rice.kew.docsearch.xml.StandardGenericXMLSearchableAttribute</className>
	 <label>AwardBudgetAwardTitleSearchAttribute</label>
	 <description>AwardBudgetAwardTitleSearchAttribute</description>
	 <type>SearchableXmlAttribute</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <searchingConfig>
	   <fieldDef name="awardBudgetAwardTitle" title="Award Title">
	     <display>
	       <type>text</type>
	     </display>
	     <lookup businessObjectClass="org.kuali.kra.award.home.Award">
	       <fieldConversions>
		 <fieldConversion lookupFieldName="title" localFieldName="awardBudgetAwardTitle"/>
	       </fieldConversions>
	     </lookup>
	     <fieldEvaluation>
	       <xpathexpression>//currentAward/title</xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	 </searchingConfig>
       </ruleAttribute>
       <ruleAttribute>
	 <name>AwardBudgetAccountNumberSearchAttribute</name>
	 <className>org.kuali.rice.kew.docsearch.xml.StandardGenericXMLSearchableAttribute</className>
	 <label>AwardBudgetAccountNumberSearchAttribute</label>
	 <description>AwardBudgetAccountNumberSearchAttribute</description>
	 <type>SearchableXmlAttribute</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <searchingConfig>
	   <fieldDef name="awardBudgetAccountNumber" title="Account ID">
	     <display>
	       <type>text</type>
	     </display>
	     <lookup businessObjectClass="org.kuali.kra.award.home.Award">
	       <fieldConversions>
		 <fieldConversion lookupFieldName="accountNumber" localFieldName="awardBudgetAccountNumber"/>
	       </fieldConversions>
	     </lookup>
	     <fieldEvaluation>
	       <xpathexpression>//currentAward/accountNumber</xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	 </searchingConfig>
       </ruleAttribute>
       <ruleAttribute>
	 <name>AwardBudgetInvestigatorSearchAttribute</name>
	 <className>org.kuali.rice.kew.docsearch.xml.StandardGenericXMLSearchableAttribute</className>
	 <label>AwardBudgetInvestigatorSearchAttribute</label>
	 <description>AwardBudgetInvestigatorSearchAttribute</description>
	 <type>SearchableXmlAttribute</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <searchingConfig>
	   <fieldDef name="awardBudgetInvestigator" title="Investigator">
	     <display>
	       <type>text</type>
	     </display>
	     <lookup businessObjectClass="org.kuali.coeus.common.framework.person.KcPerson">
	       <fieldConversions>
		 <fieldConversion lookupFieldName="fullName" localFieldName="awardBudgetInvestigator"/>
	       </fieldConversions>
	     </lookup>
	     <fieldEvaluation>
	       <xpathexpression>//currentAward/principalInvestigatorName</xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	 </searchingConfig>
       </ruleAttribute>
       <ruleAttribute>
	 <name>AwardBudgetLeadUnitSearchAttribute</name>
	 <className>org.kuali.rice.kew.docsearch.xml.StandardGenericXMLSearchableAttribute</className>
	 <label>AwardBudgetLeadUnitSearchAttribute</label>
	 <description>AwardBudgetLeadUnitSearchAttribute</description>
	 <type>SearchableXmlAttribute</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <searchingConfig>
	   <fieldDef name="awardBudgetLeadUnit" title="Lead Unit">
	     <display>
	       <type>text</type>
	     </display>
	     <lookup businessObjectClass="org.kuali.coeus.common.framework.unit.Unit">
	       <fieldConversions>
		 <fieldConversion lookupFieldName="unitNumber" localFieldName="awardBudgetLeadUnit"/>
	       </fieldConversions>
	     </lookup>
	     <fieldEvaluation>
	       <xpathexpression>//currentAward/leadUnit/unitNumber</xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	 </searchingConfig>
       </ruleAttribute>
       <ruleAttribute>
	 <name>AwardBudgetSponsorSearchAttribute</name>
	 <className>org.kuali.rice.kew.docsearch.xml.StandardGenericXMLSearchableAttribute</className>
	 <label>AwardBudgetSponsorSearchAttribute</label>
	 <description>AwardBudgetSponsorSearchAttribute</description>
	 <type>SearchableXmlAttribute</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <searchingConfig>
	   <fieldDef name="awardBudgetSponsor" title="Sponsor">
	     <display>
	       <type>text</type>
	     </display>
	     <lookup businessObjectClass="org.kuali.coeus.common.framework.sponsor.Sponsor">
	       <fieldConversions>
		 <fieldConversion lookupFieldName="sponsorCode" localFieldName="awardBudgetSponsor"/>
	       </fieldConversions>
	     </lookup>
	     <fieldEvaluation>
	       <xpathexpression>//currentAward/sponsor/sponsorCode</xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	 </searchingConfig>
       </ruleAttribute>
       <ruleAttribute>
	 <name>IRBCustomDataAttribute</name>
	 <className>org.kuali.rice.kew.rule.xmlrouting.StandardGenericXMLRuleAttribute</className>
	 <label>IRBCustomDataAttribute</label>
	 <description>IRBCustomDataAttribute</description>
	 <type>RuleXmlAttribute</type>
	 <routingConfig>
	   <fieldDef name="instructorName" title="Instructor Name" workflowType="RULE">
	     <display>
	       <type>text</type>
	     </display>
	     <validation required="false"/>
	     <fieldEvaluation>
	       <xpathexpression>string(//xmlRouting/field[@name='instructorName']/value) = wf:ruledata('instructorName')</xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	   <fieldDef name="courseName" title="Course Name" workflowType="RULE">
	     <display>
	       <type>text</type>
	     </display>
	     <validation required="false"/>
	     <fieldEvaluation>
	       <xpathexpression>string(//xmlRouting/field[@name='courseName']/value) = wf:ruledata('courseName')</xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	 </routingConfig>
       </ruleAttribute>
       
       <ruleAttribute>
	 <name>ProtocolApprover-XPathQualifierResolver</name>
	 <className>org.kuali.kra.irb.ProtocolQualifierResolver</className>
	 <label>ProtocolApprover-XPathQualifierResolver</label>
	 <description>To limit the Approval Request to be routed to ProtocolApprovers for this protocol only</description>
	 <type>QualifierResolver</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <resolverConfig>
	   <attributes name="protocol">
	     <xPathExpression>//document/protocolList[1]/org.kuali.kra.irb.Protocol[1]/protocolNumber[1]</xPathExpression>
	   </attributes>
	   <attributes name="unitNumber">
	     <xPathExpression>//document/protocolList[1]/org.kuali.kra.irb.Protocol[1]/leadUnitNumber[1]</xPathExpression>
	   </attributes>
	 </resolverConfig>
       </ruleAttribute>
       
       <ruleAttribute>
	 <serviceNamespace>KC</serviceNamespace>
	 <name>ProtocolWorkflowTypeAttribute</name>
	 <className>org.kuali.rice.kew.rule.xmlrouting.StandardGenericXMLRuleAttribute</className>
	 <label>ProtocolWorkflowTypeAttribute</label>
	 <description>ProtocolWorkflowTypeAttribute</description>
	 <type>RuleXmlAttribute</type>
	 <routingConfig>
	   <fieldDef name="protocolWorkflowType" title="protocolWorkflowType" workflowType="RULE">
	     <display>
	       <type>text</type>
	     </display>
	     <validation required="false" />
	     <fieldEvaluation>
	       <!-- expectation: this is run and evaluates to true  -->
	       <xpathexpression>
		 wf:xstreamsafe('//document/protocolWorkflowType') = wf:ruledata('protocolWorkflowType')
	       </xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	 </routingConfig>
       </ruleAttribute>
       <ruleAttribute>
	 <name>ProtocolUnitApprovalAttribute</name>
	 <className>
	   org.kuali.rice.kew.rule.xmlrouting.StandardGenericXMLRuleAttribute
	 </className>
	 <label>ProtocolUnitApprovalAttribute</label>
	 <description>UnitApprovalAttribute</description>
	 <type>RuleXmlAttribute</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <routingConfig>
	   <fieldDef name="leadUnitNumber" title="Lead Unit"
		     workflowType="RULE">
	     <display>
	       <type>text</type>
	     </display>
	     <validation required="false" />
	     <fieldEvaluation>
	       <xpathexpression>
		 wf:xstreamsafe('//document/protocolList[1]/org.kuali.kra.irb.Protocol[1]/leadUnitNumber[1]')= wf:ruledata('leadUnitNumber') and
		 wf:xstreamsafe('//document/protocolWorkflowType') = wf:ruledata('protocolWorkflowType')
	       </xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	 </routingConfig>
       </ruleAttribute>
       
       <!-- Role attribute -->
       <ruleAttribute>
	 <name>UnitAdministratorRoleAttribute</name>
	 <className>
         org.kuali.coeus.common.framework.unit.admin.UnitAdministratorRoleAttribute
     </className>
	 <label>Protocol Unit Routing</label>
	 <description>Protocol Unit Routing</description>
	 <type>RuleAttribute</type>
       </ruleAttribute>
       
       <ruleAttribute>
	 <name>OrganizationCorrespondentRoleAttribute</name>
	 <className>
         org.kuali.coeus.common.impl.org.crrspndnt.OrganizationCorrespondentRoleAttribute
     </className>
	 <label>Protocol Organization Notification</label>
	 <description>Protocol Organization Notification</description>
	 <type>RuleAttribute</type>
       </ruleAttribute>
       
       <ruleAttribute>
	 <name>UnitCorrespondentRoleAttribute</name>
	 <className>
         org.kuali.coeus.common.framework.unit.crrspndnt.UnitCorrespondentRoleAttribute
     </className>
	 <label>Protocol Unit Notification</label>
	 <description>Protocol Unit Notification</description>
	 <type>RuleAttribute</type>
       </ruleAttribute>
       
       <ruleAttribute>
	 <name>ProtocolReRouteAttribute</name>
	 <className>
	   org.kuali.rice.kew.rule.xmlrouting.StandardGenericXMLRuleAttribute
	 </className>
	 <label>ProtocolReRouteAttribute</label>
	 <description>ProtocolReRouteAttribute - Indicates if the document is being rerouted</description>
	 <type>RuleXmlAttribute</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <routingConfig>
	   <fieldDef name="reRouted" title="Re-Routed"
		     workflowType="RULE">
	     <display>
	       <type>text</type>
	     </display>
	     <validation required="false" />
	     <fieldEvaluation>
	       <xpathexpression>
		 wf:xstreamsafe('//document/reRouted')= wf:ruledata('reRouted')
	       </xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	 </routingConfig>
       </ruleAttribute>
       <ruleAttribute>
	 <name>IacucProtocolOnlineReviewReviewer-XPathQualifierResolver</name>
	 <className>org.kuali.rice.kew.role.XPathQualifierResolver</className>
	 <label>IacucProtocolOnlineReviewReviewer-XPathQualifierResolver</label>
	 <description>IacucProtocolOnlineReviewReviewer-XPathQualifierResolver</description>
	 <type>QualifierResolver</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <resolverConfig>
	   <attributes name="protocolReviewerId">
	     <xPathExpression>//document/protocolOnlineReviewList[1]/org.kuali.kra.iacuc.onlinereview.IacucProtocolOnlineReview[1]/protocolReviewerId</xPathExpression>
	   </attributes>
	   
	   <attributes name="protocolOnlineReviewId">
	     <xPathExpression>//document/protocolOnlineReviewList[1]/org.kuali.kra.iacuc.onlinereview.IacucProtocolOnlineReview[1]/protocolOnlineReviewId</xPathExpression>
	   </attributes>
	   
	   <attributes name="submissionId">
	     <xPathExpression>//document/protocolOnlineReviewList[1]/org.kuali.kra.iacuc.onlinereview.IacucProtocolOnlineReview[1]/submissionIdFk</xPathExpression>
	   </attributes>
	   
	   <attributes name="protocol">
	     <xPathExpression>//document/protocolOnlineReviewList[1]/org.kuali.kra.iacuc.onlinereview.IacucProtocolOnlineReview[1]/protocol/protocolNumber</xPathExpression>
	   </attributes>
	   
	   <attributes name="protocolLeadUnitNumber">
	     <xPathExpression>//document/protocolOnlineReviewList[1]/org.kuali.kra.iacuc.onlinereview.IacucProtocolOnlineReview[1]/protocol/leadUnitNumber</xPathExpression>
	   </attributes>               
	 </resolverConfig>
       </ruleAttribute>
       
       <ruleAttribute>
	 <name>CopyCustomActionListAttribute</name>
	 <className>
	   org.kuali.kra.workflow.CopyCustomActionListAttribute
	 </className>
	 <label>Copy Action List Attribute</label>
	 <description>Copy Action List Attribute</description>
	 <type>ActionListAttribute</type>
	 <serviceNamespace>KC</serviceNamespace>
       </ruleAttribute>
       
       <ruleAttribute>
	 <name>AggregatorSearchAttribute</name>
	 <className>org.kuali.rice.kew.docsearch.xml.StandardGenericXMLSearchableAttribute</className>
	 <label>AggregatorSearchAttribute</label>
	 <description>AggregatorSearchAttribute</description>
	 <type>SearchableXmlAttribute</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <searchingConfig>
	   <fieldDef name="aggregator" title="Aggregator">
	     <display>
	       <type>text</type>
	     </display>
	     <lookup businessObjectClass="org.kuali.rice.kim.api.identity.Person">
	       <fieldConversions>
		 <fieldConversion lookupFieldName="principalName" localFieldName="aggregator"/>
	       </fieldConversions>
	     </lookup>
	     
	     <fieldEvaluation>
	       <!-- not sure yet -->
	       <!--  example //organization/organizationId -->
	       <xpathexpression>
		 //aggregator/string
	       </xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	   <xmlSearchContent>
	     <users>
	       <aggregator>
		 <value>%aggregator%</value>
	       </aggregator>
	     </users>
	   </xmlSearchContent>
	 </searchingConfig>
       </ruleAttribute>
       <ruleAttribute>
	 <name>BudgetCreatorSearchAttribute</name>
	 <className>
	   org.kuali.rice.kew.docsearch.xml.StandardGenericXMLSearchableAttribute
	 </className>
	 <label>BudgetCreatorSearchAttribute</label>
	 <description>BudgetCreatorSearchAttribute</description>
	 <type>SearchableXmlAttribute</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <searchingConfig>
	   <fieldDef name="budgetCreator" title="Budget Creator">
	     <display>
	       <type>text</type>
	     </display>
	     <lookup businessObjectClass="org.kuali.rice.kim.api.identity.Person">
	       <fieldConversions>
		 <fieldConversion lookupFieldName="principalName" localFieldName="budgetCreator"/>
	       </fieldConversions>
	     </lookup>
	     
	     <fieldEvaluation>
	       <xpathexpression>
		 //budgetcreator/string
	       </xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	   <xmlSearchContent>
	     <users>
	       <budgetCreator>
		 <value>%budgetCreator%</value>
	       </budgetCreator>
	     </users>
	   </xmlSearchContent>
	 </searchingConfig>
       </ruleAttribute>
       <ruleAttribute>
	 <name>NarrativeWriterSearchAttribute</name>
	 <className>org.kuali.rice.kew.docsearch.xml.StandardGenericXMLSearchableAttribute</className>
	 <label>NarrativeWriterSearchAttribute</label>
	 <description>NarrativeWriterSearchAttribute</description>
	 <type>SearchableXmlAttribute</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <searchingConfig>
	   <fieldDef name="narrativeWriter"
		     title="Narrative Writer">
	     <display>
	       <type>text</type>
	     </display>
	     <lookup businessObjectClass="org.kuali.rice.kim.api.identity.Person">
	       <fieldConversions>
		 <fieldConversion lookupFieldName="principalName" localFieldName="narrativeWriter"/>
	       </fieldConversions>
	     </lookup>
	     
	     <fieldEvaluation>
	       <xpathexpression>
		 //narrativewriter/string
	       </xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	   <xmlSearchContent>
	     <users>
	       <narrativeWriter>
		 <value>%narrativeWriter%</value>
	       </narrativeWriter>
	     </users>
	   </xmlSearchContent>
	 </searchingConfig>
       </ruleAttribute>
       <ruleAttribute>
	 <name>ViewerSearchAttribute</name>
	 <className>org.kuali.rice.kew.docsearch.xml.StandardGenericXMLSearchableAttribute</className>
	 <label>ViewerSearchAttribute</label>
	 <description>ViewerSearchAttribute</description>
	 <type>SearchableXmlAttribute</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <searchingConfig>
	   <fieldDef name="viewer" title="Viewer">
	     <display>
	       <type>text</type>
	     </display>
	     <lookup businessObjectClass="org.kuali.rice.kim.api.identity.Person">
	       <fieldConversions>
		 <fieldConversion lookupFieldName="principalName" localFieldName="viewer"/>
	       </fieldConversions>
	     </lookup>
	     
	     <fieldEvaluation>
	       <xpathexpression>
		 //viewer/string
	       </xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	   <xmlSearchContent>
	     <users>
	       <viewer>
		 <value>%viewer%</value>
	       </viewer>
	     </users>
	   </xmlSearchContent>
	 </searchingConfig>
       </ruleAttribute>
       
       <ruleAttribute>
	 <name>ProposalNumberAttribute</name>
	 <className>org.kuali.rice.kew.docsearch.xml.StandardGenericXMLSearchableAttribute</className>
	 <label>ProposalNumberSearchAttribute</label>
	 <description>ProposalNumberSearchAttribute</description>
	 <type>SearchableXmlAttribute</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <searchingConfig>
	   <fieldDef name="proposalNumber" title="Proposal ID">
	     <display>
	       <type>text</type>
	     </display>
	     <fieldEvaluation>
	       <xpathexpression>
		 //document/developmentProposalList[1]/proposalNumber
	       </xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	   <xmlSearchContent>
	     <users>
	       <viewer>
		 <value>%proposalNumber%</value>
	       </viewer>
	     </users>
	   </xmlSearchContent>
	 </searchingConfig>
       </ruleAttribute>
       
       
       <ruleAttribute>
	 <name>DepartmentalApprovalAttribute</name>
	 <className>
	   org.kuali.rice.kew.rule.xmlrouting.StandardGenericXMLRuleAttribute
	 </className>
	 <label>DepartmentalApprovalAttribute</label>
	 <description>DepartmentalApprovalAttribute</description>
	 <type>RuleXmlAttribute</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <routingConfig>
	   <fieldDef name="ownedByUnitNumber" title="Lead Unit"
		     workflowType="RULE">
	     <display>
	       <type>text</type>
	     </display>
	     <validation required="false" />
	     <fieldEvaluation>
	       <xpathexpression>
		 wf:xstreamsafe('//document/developmentProposalList[1]/org.kuali.kra.proposaldevelopment.bo.DevelopmentProposal/ownedByUnitNumber')= wf:ruledata('ownedByUnitNumber')
	       </xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	 </routingConfig>
       </ruleAttribute>

       
       
       <ruleAttribute>
	 <name>DepartmentalBudgetApprovalAttribute</name>
	 <className>
	   org.kuali.rice.kew.rule.xmlrouting.StandardGenericXMLRuleAttribute
	 </className>
	 <label>DepartmentalBudgetApprovalAttribute</label>
	 <description>
	   DepartmentalBudgetApprovalAttribute
	 </description>
	 <type>RuleXmlAttribute</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <routingConfig>
	   <fieldDef name="totalCost" title="Total"
		     workflowType="RULE">
	     <display>
	       <type>text</type>
	     </display>
	     <validation required="false" />
	     <fieldEvaluation>
	       <xpathexpression>
		 wf:xstreamsafe('//document/developmentProposalList[1]/ownedByUnitNumber')= 'IN-CARD' and wf:xstreamsafe("//budgetDocumentVersions/budgetVersionOverview/org.kuali.kra.budget.versions.BudgetVersionOverview/totalCost/value") &gt;= wf:ruledata('totalCost')
	       </xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	 </routingConfig>
       </ruleAttribute>



       <!-- custom attribute -->
       <ruleAttribute>
	 <name>CustomDataAttribute</name>
	 <className>org.kuali.rice.kew.rule.xmlrouting.StandardGenericXMLRuleAttribute</className>
	 <label>CustomDataAttribute</label>
	 <description>CustomDataAttribute</description>
	 <type>RuleXmlAttribute</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <routingConfig>
	   <!-- work in progress -->
	   <fieldDef name="billingElement" title="Billing Element" workflowType="RULE">
	     <display>
	       <type>text</type>
	     </display>
	     <validation required="false" />
	     <fieldEvaluation>
	       <!-- expectation: this is run and evaluates to true -->
	       <xpathexpression>string(//xmlRouting/field[@name='billingElement']/value) = wf:ruledata('billingElement')</xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	   <fieldDef name="graduateStudentCount" title="Graduate Student Count" workflowType="RULE">
	     <display>
	       <type>text</type>
	     </display>
	     <validation required="false" />
	     <fieldEvaluation>
	       <!-- expectation: this is run and evaluates to true -->
	       <xpathexpression>string(//xmlRouting/field[@name='graduateStudentCount']/value) = wf:ruledata('graduateStudentCount')</xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	   <fieldDef name="costSharingBudget" title="Cost Sharing Budget" workflowType="RULE">
	     <display>
	       <type>text</type>
	     </display>
	     <validation required="false" />
	     <fieldEvaluation>
	       <!-- expectation: this is run and evaluates to true -->
	       <xpathexpression>string(//xmlRouting/field[@name='costSharingBudget']/value) = wf:ruledata('costSharingBudget')</xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	   <fieldDef name="numberOfTrainees" title="Number Of Trainees" workflowType="RULE">
	     <display>
	       <type>text</type>
	     </display>
	     <validation required="false" />
	     <fieldEvaluation>
	       <!-- expectation: this is run and evaluates to true -->
	       <xpathexpression>string(//xmlRouting/field[@name='numberOfTrainees']/value) = wf:ruledata('numberOfTrainees')</xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	   <fieldDef name="tenured" title="Tenured" workflowType="RULE">
	     <display>
	       <type>text</type>
	     </display>
	     <validation required="false" />
	     <fieldEvaluation>
	       <!-- expectation: this is run and evaluates to true -->
	       <xpathexpression>string(//xmlRouting/field[@name='tenured']/value) = wf:ruledata('tenured')</xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	   <fieldDef name="exportControls" title="Export Controls" workflowType="RULE">
	     <display>
	       <type>text</type>
	     </display>
	     <validation required="false" />
	     <fieldEvaluation>
	       <!-- expectation: this is run and evaluates to true -->
	       <xpathexpression>string(//xmlRouting/field[@name='exportControls']/value) = wf:ruledata('exportControls')</xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	   <fieldDef name="inventions" title="Inventions" workflowType="RULE">
	     <display>
	       <type>text</type>
	     </display>
	     <validation required="false" /> 
	     <fieldEvaluation>
	       <!-- expectation: this is run and evaluates to true -->
	       <xpathexpression>string(//xmlRouting/field[@name='inventions']/value) = wf:ruledata('inventions')</xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	   <fieldDef name="effDate" title="Effective Date" workflowType="RULE">
	     <display>
	       <type>text</type>
	     </display>
	     <validation required="false" />
	     <fieldEvaluation>
	       <!-- expectation: this is run and evaluates to true -->
	       <xpathexpression>string(//xmlRouting/field[@name='effDate']/value) = wf:ruledata('effDate')</xpathexpression>
	     </fieldEvaluation>
	   </fieldDef>
	 </routingConfig>
       </ruleAttribute>
       
       <ruleAttribute>
	 <name>ProposalPersons-XPathQualifierResolver</name>
	 <className>org.kuali.rice.kew.role.XPathQualifierResolver</className>
	 <label>ProposalPersons-XPathQualifierResolver</label>
	 <description>ProposalPersons-XPathQualifierResolver</description>
	 <type>QualifierResolver</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <resolverConfig>
	   <attributes name="proposal">
	     <xPathExpression>//document/developmentProposalList[1]/org.kuali.kra.proposaldevelopment.bo.DevelopmentProposal[1]/proposalNumber[1]</xPathExpression>
	   </attributes>
	 </resolverConfig>
       </ruleAttribute>

       <ruleAttribute>
	 <name>DepartmentRouting-XPathQualifierResolver</name>
	 <className>org.kuali.rice.kew.role.XPathQualifierResolver</className>
	 <label>DepartmentRouting-XPathQualifierResolver</label>
	 <description>DepartmentRouting-XPathQualifierResolver</description>
	 <type>QualifierResolver</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <resolverConfig>
	   <attributes name="unitNumber">
	     <xPathExpression>//document/developmentProposalList[1]/org.kuali.kra.proposaldevelopment.bo.DevelopmentProposal[1]/ownedByUnitNumber[1]</xPathExpression>
	   </attributes>
	 </resolverConfig>
       </ruleAttribute>
       <ruleAttribute>
	 <name>ProtocolOnlineReviewReviewer-XPathQualifierResolver</name>
	 <className>org.kuali.rice.kew.role.XPathQualifierResolver</className>
	 <label>ProtocolOnlineReviewReviewer-XPathQualifierResolver</label>
	 <description>ProtocolOnlineReviewReviewer-XPathQualifierResolver</description>
	 <type>QualifierResolver</type>
	 <serviceNamespace>KC</serviceNamespace>
	 <resolverConfig>
	   <attributes name="protocolReviewerId">
	     <xPathExpression>//document/protocolOnlineReviewList[1]/org.kuali.kra.irb.onlinereview.ProtocolOnlineReview[1]/protocolReviewerId</xPathExpression>
	   </attributes>
	   
	   <attributes name="protocolOnlineReviewId">
	     <xPathExpression>//document/protocolOnlineReviewList[1]/org.kuali.kra.irb.onlinereview.ProtocolOnlineReview[1]/protocolOnlineReviewId</xPathExpression>
	   </attributes>
	   
	   <attributes name="submissionId">
	     <xPathExpression>//document/protocolOnlineReviewList[1]/org.kuali.kra.irb.onlinereview.ProtocolOnlineReview[1]/submissionIdFk</xPathExpression>
	   </attributes>
	   
	   <attributes name="protocol">
	     <xPathExpression>//document/protocolOnlineReviewList[1]/org.kuali.kra.irb.onlinereview.ProtocolOnlineReview[1]/protocol/protocolNumber</xPathExpression>
	   </attributes>

	   <attributes name="protocolLeadUnitNumber">
	     <xPathExpression>//document/protocolOnlineReviewList[1]/org.kuali.kra.irb.onlinereview.ProtocolOnlineReview[1]/protocol/leadUnitNumber</xPathExpression>
	   </attributes>				
	 </resolverConfig>
       </ruleAttribute>
     </ruleAttributes>

     <!-- Rule templates start here-->
     <ruleTemplates xmlns="ns:workflow/RuleTemplate" xsi:schemaLocation="ns:workflow/RuleTemplate resource:RuleTemplate">
       <ruleTemplate allowOverwrite="true">
	 <name>RoutedByUserRoleTemplate</name>
	 <description>Routed By User Role Template</description>
       </ruleTemplate>
       <ruleTemplate allowOverwrite="true">
	      <name>AwardStandardApproval</name>
	      <description>Standard Approval Template for Awards</description>
       </ruleTemplate>
       <ruleTemplate allowOverwrite="true">
	 <name>AssignedToAgenda</name>
	 <description>IRB AssignedToAgenda Routing</description>
	 <attributes>
	   <attribute>
	     <name>ProtocolWorkflowTypeAttribute</name>
	     <required>true</required>
	   </attribute>
	 </attributes>
       </ruleTemplate>
       <ruleTemplate allowOverwrite="true">
	 <name>IRBReview</name>
	 <description>IRB IRBReview Routing</description>
	 <attributes>
	   <attribute>
	     <name>ProtocolWorkflowTypeAttribute</name>
	     <required>true</required>
	   </attribute>
	 </attributes>
       </ruleTemplate>
       
       <ruleTemplate allowOverwrite="true">
	 <name>UnitApproval</name>
	 <description>Unit Approval Routing Rule</description>
	 <attributes>
	   <attribute>
	     <name>ProtocolUnitApprovalAttribute</name>
	     <required>false</required>
	   </attribute>
	   <attribute>
	     <name>UnitAdministratorRoleAttribute</name>
	     <required>false</required>
	   </attribute>
	   <attribute>
	     <name>ProtocolReRouteAttribute</name>
	     <required>true</required>
	   </attribute>				
	 </attributes>
       </ruleTemplate>
		<ruleTemplate allowOverwrite="true">
			<name>CustomApproval</name>
			<description>Custom Approval Routing Rule</description>
			<attributes>
				<attribute>
					<name>CustomDataAttribute</name>
					<required>false</required>
				</attribute>
			</attributes>
		</ruleTemplate>

		<ruleTemplate allowOverwrite="true">
			<name>DepartmentalApproval</name>
			<description>Department Approval Routing Rule</description>
			<!--FIXME: this definition is missing -->
			<!-- <delegationTemplate>DepartmentalDelegationTemplate</delegationTemplate>-->
			<attributes>
				<attribute>
					<name>DepartmentalApprovalAttribute</name>
					<required>false</required>
				</attribute>
				<attribute>
					<name>DepartmentalBudgetApprovalAttribute</name>
					<required>false</required>
				</attribute>
			</attributes>
		</ruleTemplate>

		<ruleTemplate allowOverwrite="true">
			<name>HierarchyParentDispositionApproval</name>
			<description>Approval rule from the hierarchy parent to hierarchy children.</description>
		</ruleTemplate>
     </ruleTemplates>
     <!-- Rules start here-->
     <rules xmlns="ns:workflow/Rule" xsi:schemaLocation="ns:workflow/Rule resource:Rule">
         <rule>
            <name>AwardSyncValidationRule</name>
            <documentType>AwardDocument</documentType>
            <ruleTemplate>RoutedByUserRoleTemplate</ruleTemplate>
            <description>Award Sync Validation Approval Rule</description>
            <forceAction>true</forceAction>
            <responsibilities>
               <responsibility>
                  <role>org.kuali.rice.kew.rule.RoutedByUserRoleAttribute!ROUTED_BY_USER</role>
                  <approvePolicy>F</approvePolicy>
                  <actionRequested>A</actionRequested>
               </responsibility>
            </responsibilities>
      </rule>
      <rule>
            <name>AwardStandardApproval</name>
      		<documentType>AwardDocument</documentType>
      		<ruleTemplate>AwardStandardApproval</ruleTemplate>
      		<description>Standard Approval Node for Awards</description>
			<forceAction>false</forceAction>
    	</rule>      
       <rule>
	 <name>ApprovalForHierarchyChildren</name>
	 <documentType>ProposalDevelopmentDocument</documentType>
	 <ruleTemplate>HierarchyParentDispositionApproval</ruleTemplate>
	 <description>System User Approval for Hierarchy children.</description>
	 <forceAction>true</forceAction>
	 <responsibilities>
	   <responsibility>
	     <principalName>kr</principalName>
	     <actionRequested>A</actionRequested>
	     <priority>1</priority>
	   </responsibility>
	 </responsibilities>
       </rule>

       <rule>
	 <name>CustomApprovalRouting</name>
	 <documentType>ProposalDevelopmentDocument</documentType>
	 <ruleTemplate>CustomApproval</ruleTemplate>
	 <description>Custom approval routing</description>
	 <ruleExtensions>
	   <ruleExtension>
	     <attribute>CustomDataAttribute</attribute>
	     <ruleTemplate>CustomApproval</ruleTemplate>
	     <ruleExtensionValues>
	       <ruleExtensionValue>
		 <key>numberOfTrainees</key>
		 <value>10</value>
	       </ruleExtensionValue>
	     </ruleExtensionValues>
	   </ruleExtension>
	 </ruleExtensions>
	 
	 <responsibilities>
	   <responsibility>
	     <workgroup>KC-WKFLW:Proposal Development - Custom Approval Reviewers</workgroup>
	     <approvePolicy>F</approvePolicy>
	     <actionRequested>A</actionRequested>
	     <priority>1</priority>
	   </responsibility>
	 </responsibilities>
	 
       </rule>
       
       <rule>
	 <name>ApprovalRuleForBLIIDC</name>
	 <documentType>ProposalDevelopmentDocument</documentType>
	 <ruleTemplate>DepartmentalApproval</ruleTemplate>
	 <description>Departmental Approval Routing Rule for BL-IIDC</description>
	 <ruleExtensions>
	   <ruleExtension>
	     <attribute>DepartmentalApprovalAttribute</attribute>
	     <ruleTemplate>DepartmentalApproval</ruleTemplate>
	     <ruleExtensionValues>
	       <ruleExtensionValue>
		 <key>ownedByUnitNumber</key>
		 <value>BL-IIDC</value>
	       </ruleExtensionValue>
	     </ruleExtensionValues>
	   </ruleExtension>
	 </ruleExtensions>
	 
	 <responsibilities>
	   <responsibility>
	     <workgroup>KC-WKFLW:Proposal Development - Department Reviewers</workgroup>
	     <approvePolicy>F</approvePolicy>
	     <actionRequested>A</actionRequested>
	     <priority>1</priority>
	   </responsibility>
	 </responsibilities>
       </rule>
       <rule>
	 <name>AssignedToAgendaRule</name>
	 <documentType>ProtocolDocument</documentType>
	 <ruleTemplate>AssignedToAgenda</ruleTemplate>
	 <description>AssignedToAgenda Routing</description>
	 <forceAction>true</forceAction>
	 <ruleExtensions>
	   <ruleExtension>            
	     <attribute>ProtocolWorkflowTypeAttribute</attribute>
	     <ruleTemplate>AssignedToAgenda</ruleTemplate>
	     <ruleExtensionValues>
	       <ruleExtensionValue>
		 <key>protocolWorkflowType</key>
		 <value>Normal</value>
	       </ruleExtensionValue>
	     </ruleExtensionValues>
	   </ruleExtension>            
	 </ruleExtensions>
       </rule>
       <rule>
	 <name>IRBReview</name>
	 <documentType>ProtocolDocument</documentType>
	 <ruleTemplate>IRBReview</ruleTemplate>
	 <description>IRBReview Routing</description>
	 <forceAction>true</forceAction>
	 <ruleExtensions>
	   <ruleExtension>            
	     <attribute>ProtocolWorkflowTypeAttribute</attribute>
	     <ruleTemplate>IRBReview</ruleTemplate>
	     <ruleExtensionValues>
	       <ruleExtensionValue>
		 <key>protocolWorkflowType</key>
		 <value>Normal</value>
	       </ruleExtensionValue>
	     </ruleExtensionValues>
	   </ruleExtension>            
	 </ruleExtensions>
       </rule>
       
       <rule>
	 <name>UnitApproval</name>
	 <documentType>ProtocolDocument</documentType>
	 <ruleTemplate>UnitApproval</ruleTemplate>
	 <description>Unit Approval Routing Rule for IN-CARD</description>
	 <ruleExtensions>
	   <ruleExtension>
	     <attribute>ProtocolUnitApprovalAttribute</attribute>
	     <ruleTemplate>UnitApproval</ruleTemplate>
	     <ruleExtensionValues>
	       <ruleExtensionValue>
		 <key>leadUnitNumber</key>
		 <value>IN-CARD</value>
	       </ruleExtensionValue>
	       <ruleExtensionValue>
		 <key>protocolWorkflowType</key>
		 <value>Normal</value>
	       </ruleExtensionValue>
	       <ruleExtensionValue>
		 <key>reRouted</key>
		 <value>false</value>
	       </ruleExtensionValue>
	     </ruleExtensionValues>
	   </ruleExtension>
	   <ruleExtension>
	     <attribute>ProtocolReRouteAttribute</attribute>
	     <ruleTemplate>UnitApproval</ruleTemplate>
	     <ruleExtensionValues>
	       <ruleExtensionValue>
		 <key>reRouted</key>
		 <value>false</value>
	       </ruleExtensionValue>
	     </ruleExtensionValues>
	   </ruleExtension>
	 </ruleExtensions>
	 
	 <responsibilities>
	   <responsibility>
	     <roleName attributeClassName="org.kuali.coeus.common.framework.unit.admin.UnitAdministratorRoleAttribute">UnitAdministratorRoleAttribute!UnitAdministrator</roleName>
	     <approvePolicy>F</approvePolicy>
	     <actionRequested>A</actionRequested>
	     <priority>1</priority>
	   </responsibility>
	 </responsibilities>
       </rule>
       
     </rules>

     <!-- Document types start-->
     <documentTypes xmlns="ns:workflow/DocumentType"
		    xsi:schemaLocation="ns:workflow/DocumentType resource:DocumentType">
       <documentType>
	 <name>KC</name>
	 <description>Create a KC document</description>
	 <label>KC</label>
	 <parent>KualiDocument</parent>
	 <serviceNamespace>KC</serviceNamespace>
	 <!--Does not work when using param replacement-->
	 <!--<serviceNamespace>${service.namespace}</serviceNamespace>-->
	 <postProcessorName>
	   org.kuali.rice.krad.workflow.postprocessor.KualiPostProcessor
	 </postProcessorName>
       </documentType>
       <documentType>
	 <name>KC</name>
	 <description>Create a KC document</description>
	 <label>KC</label>
	 <parent>KualiDocument</parent>
	 <serviceNamespace>KC</serviceNamespace>
	 <!--Does not work when using param replacement-->
	 <!--<serviceNamespace>${service.namespace}</serviceNamespace>-->
	 <postProcessorName>
	   org.kuali.rice.krad.workflow.postprocessor.KualiPostProcessor
	 </postProcessorName>
       </documentType>
       <documentType>
	 <name>AwardBudgetDocument</name>
	 <description>Create an Award Budget</description>
	 <label>Award Budget Document</label>
	 <parent>KC</parent>
	 <postProcessorName>org.kuali.rice.krad.workflow.postprocessor.KualiPostProcessor</postProcessorName>
	 <superUserWorkgroupName>KC-WKFLW:KcAdmin</superUserWorkgroupName>
	 <blanketApproveWorkgroupName>KC-WKFLW:KcAdmin</blanketApproveWorkgroupName>
	 <defaultExceptionWorkgroupName>KC-WKFLW:KcAdmin</defaultExceptionWorkgroupName>
	 <docHandler>${kuali.docHandler.url.prefix}/awardBudgetVersions.do?methodToCall=docHandler</docHandler>
	 <helpDefinitionURL>default.htm?turl=Documents/awardbudget.htm</helpDefinitionURL>
	 <active>true</active>
	 <attributes>
	   <attribute>
	     <name>AwardBudgetAwardIdSearchAttribute</name>
	   </attribute>
	   <attribute>
	     <name>AwardBudgetAwardTitleSearchAttribute</name>
	   </attribute>
	   <attribute>
	     <name>AwardBudgetAccountNumberSearchAttribute</name>
	   </attribute>
	   <attribute>
	     <name>AwardBudgetInvestigatorSearchAttribute</name>
	   </attribute>
	   <attribute>
	     <name>AwardBudgetLeadUnitSearchAttribute</name>
	   </attribute>
	   <attribute>
	     <name>AwardBudgetSponsorSearchAttribute</name>
	   </attribute>
	 </attributes>
	 <policies>
	   <policy>
	     <name>DOCUMENT_STATUS_POLICY</name>
	     <stringValue>app</stringValue>
	   </policy>
	   <policy>
	     <name>DEFAULT_APPROVE</name>
	     <value>false</value>
	   </policy>
	   <policy>
	     <name>INITIATOR_MUST_ROUTE</name>
	     <value>false</value>
	   </policy>				
	 </policies>
	 <routePaths>
	   <routePath>
	     <start name="Initiated" nextNode="AwardBudgetOSPApproval"/><!--
	     <requests name="AwardBudgetInitialApproval" nextNode="AwardBudgetOSPApproval"/>
	     --><requests name="AwardBudgetOSPApproval"/>
	   </routePath>
	 </routePaths>
	 <routeNodes>
	   <start name="Initiated">
	     <activationType>S</activationType>
	   </start>
	   <role name="AwardBudgetOSPApproval">
	     <qualifierResolverClass>org.kuali.rice.kew.role.NullQualifierResolver</qualifierResolverClass>
	     <activationType>S</activationType>
	     <finalApproval>true</finalApproval>
	   </role>
	 </routeNodes>
       </documentType>
       <documentType>
	 <name>ProtocolDocument</name>
	 <description>Create a KC Protocol Document</description>
	 <label>KC Protocol</label>
	 <parent>KC</parent>
	 <postProcessorName>org.kuali.rice.krad.workflow.postprocessor.KualiPostProcessor</postProcessorName>
	 <superUserWorkgroupName>KC-WKFLW:IRBAdmin</superUserWorkgroupName>
	 <blanketApproveWorkgroupName>KC-WKFLW:IRBAdmin</blanketApproveWorkgroupName>
	 <defaultExceptionWorkgroupName>KC-WKFLW:IRBAdmin</defaultExceptionWorkgroupName>
	 <docHandler>${kuali.docHandler.url.prefix}/protocolProtocol.do?methodToCall=docHandler</docHandler>
	 <helpDefinitionURL>default.htm?turl=Documents/protocol.htm</helpDefinitionURL>
	 <active>true</active>
	 <policies>
	   <policy>
	     <name>DEFAULT_APPROVE</name>
	     <value>false</value>
	     <!--
		 this should be false in a production scenario
	     -->
	   </policy>
	   <policy>
	     <name>LOOK_FUTURE</name>
	     <value>true</value>
	   </policy>
	   <policy>
	     <name>INITIATOR_MUST_ROUTE</name>
	     <value>false</value>
	   </policy>
	   <policy>
	     <name>INITIATOR_MUST_CANCEL</name>
	     <value>false</value>
	   </policy>                
	 </policies>
	 <routePaths>
	   <routePath>
	     <start name="Initiated" nextNode="PeopleFlows" />
	     <requests name="PeopleFlows" nextNode="DepartmentReview" />
	     <requests name="DepartmentReview" nextNode="IRBReview" />
	     <requests name="IRBReview" />
	   </routePath>
	 </routePaths>
	 <!--
	     Please do not change route node IRBReview. It IS REQUIRED and SHOULD be the last
	     route node for business logic related to IRB review to work.
	 -->
	 <routeNodes>
	   <start name="Initiated">
	     <activationType>S</activationType>
	   </start>
	   <requests name="PeopleFlows">
	     <activationType>R</activationType>
	     <rulesEngine executorClass="org.kuali.kra.irb.rules.IrbProtocolRulesEngineExecutorImpl"/>
	   </requests>
	   <requests name="DepartmentReview">
	     <!-- <qualifierResolver>UnitRouting-XPathQualifierResolver</qualifierResolver> -->
	     <qualifierResolverClass>org.kuali.rice.kew.role.NullQualifierResolver</qualifierResolverClass>
	     <ruleTemplate>UnitApproval</ruleTemplate>
	     <activationType>P</activationType>
	     <finalApproval>false</finalApproval>
	   </requests>
	   <role name="IRBReview">
	     <qualifierResolver>ProtocolApprover-XPathQualifierResolver</qualifierResolver> 
	     <activationType>S</activationType>
	     <ruleTemplate>IRBReview</ruleTemplate>
	   </role>                     
	 </routeNodes>
       </documentType>
       <documentType>
	 <name>BudgetDocument</name>
	 <description>Create a Budget</description>
	 <label>Budget Document</label>
	 <parent>KC</parent>
	 <postProcessorName>org.kuali.rice.krad.workflow.postprocessor.KualiPostProcessor</postProcessorName>
	 <superUserWorkgroupName>KC-WKFLW:KcAdmin</superUserWorkgroupName>
	 <blanketApproveWorkgroupName>KC-WKFLW:KcAdmin</blanketApproveWorkgroupName>
	 <defaultExceptionWorkgroupName>KC-WKFLW:KcAdmin</defaultExceptionWorkgroupName>
	 <docHandler>${kuali.docHandler.url.prefix}/budgetVersions.do?methodToCall=docHandler</docHandler>
	 <helpDefinitionURL>default.htm?turl=Documents/budget.htm</helpDefinitionURL>
	 <active>true</active>
	 <routePaths>
	   <routePath>
	     <start name="Initiated" />
	   </routePath>
	 </routePaths>
	 <routeNodes>
	   <start name="Initiated">
	     <activationType>P</activationType>
	     <mandatoryRoute>false</mandatoryRoute>
	     <finalApproval>false</finalApproval>
	   </start>
	 </routeNodes>
       </documentType>
       <documentType>
	 <name>InstitutionalProposalDocument</name>
	 <description>Manage Institutional Proposal</description>
	 <label>KC Institutional Proposal</label>
	 <postProcessorName>org.kuali.rice.krad.workflow.postprocessor.KualiPostProcessor</postProcessorName>
	 <superUserWorkgroupName>KC-WKFLW:KcAdmin</superUserWorkgroupName>
	 <blanketApproveWorkgroupName>KC-WKFLW:KcAdmin</blanketApproveWorkgroupName>
	 <defaultExceptionWorkgroupName>KC-WKFLW:KcAdmin</defaultExceptionWorkgroupName>
	 <docHandler>${kuali.docHandler.url.prefix}/institutionalProposalHome.do?methodToCall=docHandler</docHandler>
	 <helpDefinitionURL>default.htm?turl=Documents/institutionalproposal.htm</helpDefinitionURL>
	 <active>true</active>
	 <routingVersion>2</routingVersion>
	 <routePaths>
	   <routePath>
	     <start name="Initiated" />
	   </routePath>
	 </routePaths>
	 <routeNodes>
	   <start name="Initiated">
	     <activationType>P</activationType>
	     <mandatoryRoute>false</mandatoryRoute>
	     <finalApproval>false</finalApproval>
	   </start>
	 </routeNodes>
	 <parent>KC</parent>
       </documentType>
       <documentType>
	 <name>CommitteeDocument</name>
	 <description>Create a Committee</description>
	 <label>Committee Document</label>
	 <parent>KC</parent>
	 <docHandler>${kuali.docHandler.url.prefix}/committeeCommittee.do?methodToCall=docHandler</docHandler>
	 <helpDefinitionURL>default.htm?turl=Documents/committee.htm</helpDefinitionURL>
       </documentType>
       <documentType>
	 <name>IacucProtocolOnlineReviewDocument</name>
	 <description>Create a KC IACUC Protocol Review Document</description>
	 <label>KC IACUC Protocol Review</label>
	 <parent>KC</parent>
	 <postProcessorName>org.kuali.rice.krad.workflow.postprocessor.KualiPostProcessor</postProcessorName>
	 <superUserGroupName namespace="KC-WKFLW">IACUCAdmin</superUserGroupName>
	 <blanketApproveGroupName namespace="KC-WKFLW">IACUCAdmin</blanketApproveGroupName>
	 <defaultExceptionGroupName namespace="KC-WKFLW">IACUCAdmin</defaultExceptionGroupName>
	 <docHandler>${kuali.docHandler.url.prefix}/iacucProtocolOnlineReviewRedirect.do?methodToCall=redirectToProtocolFromReview</docHandler>
	 <active>true</active>
	 <policies>
	   <policy>
	     <name>DEFAULT_APPROVE</name>
	     <value>false</value>
	     <!--
		 this should be false in a production scenario
	     -->
	   </policy>
	   <policy>
	     <name>LOOK_FUTURE</name>
	     <value>true</value>
	   </policy>
	 </policies>
	 <routePaths>
	   <routePath>
	     <start name="Initiated" nextNode="IACUCAdminInitialReview" />
	     <requests name="IACUCAdminInitialReview" nextNode = "IACUCOnlineReviewer"/>
	     <requests name="IACUCOnlineReviewer" nextNode="IACUCAdminReview" />
	     <requests name="IACUCAdminReview" />
	   </routePath>
	 </routePaths>
	 <routeNodes>
	   <start name="Initiated">
	     <activationType>S</activationType>
	   </start>
	   <!--  This role is for a requested review.  When a PI requests a review via submit protocol action,  it will wait here
		for IACUC Admin approval before being routed to the reviewer. -->
	   <role name="IACUCAdminInitialReview">
	     <qualifierResolverClass>org.kuali.rice.kew.role.NullQualifierResolver</qualifierResolverClass>
	     <activationType>S</activationType>
	     <finalApproval>false</finalApproval>
	     <mandatoryRoute>false</mandatoryRoute>
	   </role>                
	   <role name="IACUCOnlineReviewer">
	     <qualifierResolver>IacucProtocolOnlineReviewReviewer-XPathQualifierResolver</qualifierResolver>
	     <activationType>S</activationType>
	     <finalApproval>false</finalApproval>
	     <mandatoryRoute>false</mandatoryRoute>
	   </role>                
	   <role name="IACUCAdminReview">
	     <qualifierResolverClass>org.kuali.rice.kew.role.NullQualifierResolver</qualifierResolverClass>
	     <activationType>P</activationType>
	     <mandatoryRoute>false</mandatoryRoute>
	   </role>                     
	 </routeNodes>
       </documentType>
       
       <documentType>
	 <name>CommonCommitteeDocument</name>
	 <description>Create a Common Committee</description>
	 <label>Common Committee Document</label>
	 <parent>KC</parent>
	 <docHandler>${kuali.docHandler.url.prefix}/commonCommitteeCommittee.do?methodToCall=docHandler</docHandler>
	 <helpDefinitionURL>default.htm?turl=Documents/committee.htm</helpDefinitionURL>
       </documentType>
       <documentType>
	 <name>KcMaintenanceDocument</name>
	 <description>Parent of maintenance documents in KC</description>
	 <label>KcMaintenanceDocument</label>
	 <parent>KC</parent>
	 <postProcessorName>org.kuali.coeus.sys.framework.workflow.KcPostProcessor</postProcessorName>
	 <superUserWorkgroupName>KC-WKFLW:KcAdmin</superUserWorkgroupName>
	 <blanketApproveWorkgroupName>KC-WKFLW:KcAdmin</blanketApproveWorkgroupName>
	 <defaultExceptionWorkgroupName>KC-WKFLW:KcAdmin</defaultExceptionWorkgroupName>
	 <docHandler>${kuali.docHandler.url.prefix}/kr/maintenance.do?methodToCall=docHandler</docHandler>
	 <active>true</active>
	 <!-- <routingVersion>2</routingVersion> -->
	 <routePaths>
	   <routePath>
	     <start name="Initiated" />
	   </routePath>
	 </routePaths>
	 <routeNodes>
	   <start name="Initiated">
	     <activationType>P</activationType>
	     <mandatoryRoute>false</mandatoryRoute>
	     <finalApproval>false</finalApproval>
	   </start>
	 </routeNodes>
       </documentType>
       <documentType>
	 <name>ProposalDevelopmentDocument</name>
	 <description>
	   Create an Awesome Development Proposal
	 </description>
	 <label>Proposal Development Document</label>
	 <parent>KC</parent>
	 <postProcessorName>org.kuali.rice.krad.workflow.postprocessor.KualiPostProcessor</postProcessorName>
	 <superUserWorkgroupName>KC-WKFLW:OSP Superuser</superUserWorkgroupName>
	 <defaultExceptionWorkgroupName>KC-WKFLW:ProposalAdmin</defaultExceptionWorkgroupName>
	 <docHandler>${kuali.docHandler.url.prefix}/proposalDevelopmentProposal.do?methodToCall=docHandler</docHandler>
	 <helpDefinitionURL>default.htm?turl=Documents/proposaldevelopment.htm</helpDefinitionURL>
	 <active>true</active>
	 <policies>
	   <policy>
	     <name>LOOK_FUTURE</name>
	     <value>true</value>
	   </policy>
	   <policy>
	     <name>INITIATOR_MUST_ROUTE</name>
	     <value>false</value>
	   </policy>
	   <policy>
	     <name>INITIATOR_MUST_CANCEL</name>
	     <value>false</value>
	   </policy>                
	   <policy>
	     <name>DOCUMENT_STATUS_POLICY</name>
	     <stringValue>app</stringValue>
	   </policy>
	 </policies>
	 <attributes>
	   <attribute>
	     <name>CopyCustomActionListAttribute</name>
	   </attribute>
	   <attribute>
	     <name>AggregatorSearchAttribute</name>
	   </attribute>
	   <attribute>
	     <name>BudgetCreatorSearchAttribute</name>
	   </attribute>
	   <attribute>
	     <name>NarrativeWriterSearchAttribute</name>
	   </attribute>
	   <attribute>
	     <name>ViewerSearchAttribute</name>
	   </attribute>
	 </attributes>
	 <routePaths>
	   <routePath>
	     <start name="Initiated" nextNode="isHierarchyChild"/>
	     <split name = "isHierarchyChild">
	       <branch name = "False">
		 <!-- The document is a hierarchy parent, or a document that is not part of a hierarchy so it is routed normally. -->
		 <requests name="OSPInitial" nextNode="ProposalPersons" />
		 <requests name="ProposalPersons" nextNode="PeopleFlows" />
		 <requests name="PeopleFlows" nextNode="UnitRouting" />
		 <requests name="UnitRouting" nextNode="DepartmentalRouting" />
		 <requests name="DepartmentalRouting" nextNode="OSPOfficeRouting" />
		 <requests name="OSPOfficeRouting" nextNode = "Join" />
	       </branch>
	       <branch name = "True">
		 <!-- The document is a child in a hierarchy. This node will have the system user as an approver.  If the parent moves to final approval, is rejected, or cancelled
		      the system user will take the same action on the children.  -->
		 <requests name = "WaitForHierarchyDisposition" nextNode="Join"/>				
	       </branch>
	     </split>
	     <join name="Join"/>
	   </routePath>
	 </routePaths>
	 <routeNodes>
	   <start name="Initiated">
	     <activationType>P</activationType>
	     <mandatoryRoute>false</mandatoryRoute>
	     <finalApproval>false</finalApproval>
	   </start>
	   <split name="isHierarchyChild">
	     <type>org.kuali.coeus.sys.framework.workflow.SimpleBooleanSplitNode</type>
	   </split>
	   <role name="OSPInitial">
	     <qualifierResolverClass>org.kuali.rice.kew.role.NullQualifierResolver</qualifierResolverClass>
	     <activationType>S</activationType>
	     <finalApproval>false</finalApproval>
	   </role>
	   <role name="ProposalPersons">
	     <qualifierResolver>ProposalPersons-XPathQualifierResolver</qualifierResolver>
	     <activationType>P</activationType>
	     <finalApproval>false</finalApproval>
	   </role>
	   <requests name="PeopleFlows">
	     <activationType>R</activationType>
	     <rulesEngine executorClass="org.kuali.coeus.propdev.impl.core.ProposalDevelopmentRulesEngineExecutorImpl"/>
	   </requests>
	   <requests name="UnitRouting">
	     <qualifierResolver>DepartmentRouting-XPathQualifierResolver</qualifierResolver>
	     <!--  <qualifierResolverClass>org.kuali.rice.kew.role.NullQualifierResolver</qualifierResolverClass> -->
	     <ruleTemplate>CustomApproval</ruleTemplate>
	     <activationType>P</activationType>
	     <finalApproval>false</finalApproval>
	   </requests>
	   <requests name="DepartmentalRouting">
	     <qualifierResolver>DepartmentRouting-XPathQualifierResolver</qualifierResolver>
	     <!--  <qualifierResolverClass>org.kuali.rice.kew.role.NullQualifierResolver</qualifierResolverClass> -->
	     <ruleTemplate>DepartmentalApproval</ruleTemplate>
	     <activationType>P</activationType>
	     <finalApproval>false</finalApproval>
	   </requests>
	   <role name="OSPOfficeRouting">
	     <qualifierResolverClass>org.kuali.rice.kew.role.NullQualifierResolver</qualifierResolverClass>
	     <activationType>S</activationType>
	     <finalApproval>false</finalApproval>
	   </role>
	   <requests name="WaitForHierarchyDisposition">
	     <activationType>S</activationType>
	     <ruleTemplate>HierarchyParentDispositionApproval</ruleTemplate>
	     <mandatoryRoute>true</mandatoryRoute>
	     <ignorePrevious>true</ignorePrevious>
	     <finalApproval>false</finalApproval>
	   </requests>
	   <join name="Join"/>	            
	 </routeNodes>
       </documentType>
       <documentType>
	 <name>ProtocolOnlineReviewDocument</name>
	 <description>Create a KC Protocol Review Document</description>
	 <label>KC Protocol Review</label>
	 <parent>KC</parent>
	 <postProcessorName>org.kuali.rice.krad.workflow.postprocessor.KualiPostProcessor</postProcessorName>
	 <superUserWorkgroupName>KC-WKFLW:IRBAdmin</superUserWorkgroupName>
	 <blanketApproveWorkgroupName>KC-WKFLW:IRBAdmin</blanketApproveWorkgroupName>
	 <defaultExceptionWorkgroupName>KC-WKFLW:IRBAdmin</defaultExceptionWorkgroupName>
	 <docHandler>${kuali.docHandler.url.prefix}/protocolOnlineReviewRedirect.do?methodToCall=redirectToProtocolFromReview</docHandler>
	 <active>true</active>
	 <policies>
	   <policy>
	     <name>DEFAULT_APPROVE</name>
	     <value>false</value>
	     <!--
		 this should be false in a production scenario
	     -->
	   </policy>
	   <policy>
	     <name>LOOK_FUTURE</name>
	     <value>true</value>
	   </policy>
	 </policies>
	 <routePaths>
	   <routePath>
	     <start name="Initiated" nextNode="IRBAdminInitialReview" />
	     <requests name="IRBAdminInitialReview" nextNode = "OnlineReviewer"/>
	     <requests name="OnlineReviewer" nextNode="IRBAdminReview" />
	     <requests name="IRBAdminReview" />
	   </routePath>
	 </routePaths>
	 <routeNodes>
	   <start name="Initiated">
	     <activationType>S</activationType>
	   </start>
	   <!--  This role is for a requested review.  When a PI requests a review via submit protocol action,  it will wait here
		for IRB Admin approval before being routed to the reviewer. -->
	   <role name="IRBAdminInitialReview">
	     <qualifierResolverClass>org.kuali.rice.kew.role.NullQualifierResolver</qualifierResolverClass>
	     <activationType>S</activationType>
	     <finalApproval>false</finalApproval>
	     <mandatoryRoute>false</mandatoryRoute>
	   </role>                
	   <role name="OnlineReviewer">
	     <qualifierResolver>ProtocolOnlineReviewReviewer-XPathQualifierResolver</qualifierResolver>
	     <activationType>S</activationType>
	     <finalApproval>false</finalApproval>
	     <mandatoryRoute>false</mandatoryRoute>
	   </role>                
	   <role name="IRBAdminReview">
	     <qualifierResolverClass>org.kuali.rice.kew.role.NullQualifierResolver</qualifierResolverClass>
	     <activationType>P</activationType>
	     <mandatoryRoute>false</mandatoryRoute>
	   </role>                     
	 </routeNodes>
       </documentType>
       <documentType>
	 <name>SubAwardDocument</name>
	 <description>Manage SubAwards</description>
	 <label>KC SubAward</label>
	 <postProcessorName>org.kuali.rice.krad.workflow.postprocessor.KualiPostProcessor</postProcessorName>
	 <superUserWorkgroupName>KC-WKFLW:KcAdmin</superUserWorkgroupName>
	 <blanketApproveWorkgroupName>KC-WKFLW:KcAdmin</blanketApproveWorkgroupName>
	 <defaultExceptionWorkgroupName>KC-WKFLW:KcAdmin</defaultExceptionWorkgroupName>
	 <docHandler>${kuali.docHandler.url.prefix}/subAwardHome.do?methodToCall=docHandler</docHandler>
	 <helpDefinitionURL>default.htm?turl=Documents/subaward1.htm</helpDefinitionURL>
	 <active>true</active>
	 <routingVersion>2</routingVersion>
	 <routePaths>
	   <routePath>
	     <start name="Initiated" />
	   </routePath>
	 </routePaths>
	 <routeNodes>
	   <start name="Initiated">
	     <activationType>P</activationType>
	     <mandatoryRoute>false</mandatoryRoute>
	     <finalApproval>false</finalApproval>
	   </start>
	 </routeNodes>
	 <parent>KC</parent>
       </documentType>
       <documentType>
	 <name>IacucProtocolDocument</name>
	 <description>Manage IACUC Protocol</description>
	 <label>KC IACUC Protocol</label>
	 <postProcessorName>org.kuali.rice.krad.workflow.postprocessor.KualiPostProcessor</postProcessorName>
	 <superUserWorkgroupName>KC-WKFLW:KcAdmin</superUserWorkgroupName>
	 <blanketApproveWorkgroupName>KC-WKFLW:KcAdmin</blanketApproveWorkgroupName>
	 <defaultExceptionWorkgroupName>KC-WKFLW:KcAdmin</defaultExceptionWorkgroupName>
	 <docHandler>${kuali.docHandler.url.prefix}/iacucProtocolProtocol.do?methodToCall=docHandler</docHandler>
	 <helpDefinitionURL>default.htm?turl=Documents/iacucProtocol.htm</helpDefinitionURL>
	 <active>true</active>
	 <policies>
	   <policy>
	     <name>DEFAULT_APPROVE</name>
	     <value>false</value>
	     <!--
		 this should be false in a production scenario
	     -->
	   </policy>
	   <policy>
	     <name>LOOK_FUTURE</name>
	     <value>true</value>
	   </policy>
	   <policy>
	     <name>INITIATOR_MUST_ROUTE</name>
	     <value>false</value>
	   </policy>
	   <policy>
	     <name>INITIATOR_MUST_CANCEL</name>
	     <value>false</value>
	   </policy>                
	 </policies>            
	 <routingVersion>2</routingVersion>
	 <routePaths>
	   <routePath>
	     <start name="Initiated" nextNode="PeopleFlows" />
	     <requests name="PeopleFlows" nextNode="IACUCReview" />
	     <requests name="IACUCReview" />
	   </routePath>
	 </routePaths>
	 <routeNodes>
	   <start name="Initiated">
	     <activationType>P</activationType>
	     <mandatoryRoute>false</mandatoryRoute>
	     <finalApproval>false</finalApproval>
	   </start>
	   <requests name="PeopleFlows">
	     <activationType>R</activationType>
	     <rulesEngine executorClass="org.kuali.kra.iacuc.rules.IacucProtocolRulesEngineExecutorImpl"/>
	   </requests>
	   <role name="IACUCReview">
	     <qualifierResolver>IACUC ProtocolApprover-XPathQualifierResolver</qualifierResolver> 
	     <activationType>P</activationType>
	     <mandatoryRoute>true</mandatoryRoute>                    
	     <finalApproval>false</finalApproval>
	   </role>   
	 </routeNodes>
	 <parent>KC</parent>
       </documentType>
       <documentType>
	 <name>PersonMassChangeDocument</name>
	 <description>Manage Person Mass Change</description>
	 <label>KC Person Mass Change</label>
	 <postProcessorName>org.kuali.rice.krad.workflow.postprocessor.KualiPostProcessor</postProcessorName>
	 <superUserWorkgroupName>KC-WKFLW:KcAdmin</superUserWorkgroupName>
	 <blanketApproveWorkgroupName>KC-WKFLW:KcAdmin</blanketApproveWorkgroupName>
	 <defaultExceptionWorkgroupName>KC-WKFLW:KcAdmin</defaultExceptionWorkgroupName>
	 <docHandler>${kuali.docHandler.url.prefix}/personMassChangeHome.do?methodToCall=docHandler</docHandler>
	 <active>true</active>
	 <routingVersion>2</routingVersion>
	 <routePaths>
	   <routePath>
	     <start name="Initiated" />
	   </routePath>
	 </routePaths>
	 <routeNodes>
	   <start name="Initiated">
	     <activationType>P</activationType>
	     <mandatoryRoute>false</mandatoryRoute>
	     <finalApproval>false</finalApproval>
	   </start>
	 </routeNodes>
	 <parent>KC</parent>
       </documentType>
       <documentType>
	 <name>NegotiationDocument</name>
	 <description>Create a Negotiation</description>
	 <label>Negotiation Document</label>
	 <parent>KC</parent>
	 <docHandler>${kuali.docHandler.url.prefix}/negotiationNegotiation.do?methodToCall=docHandler</docHandler>
	 <helpDefinitionURL>default.htm?turl=Documents/negotiation.htm</helpDefinitionURL>
       </documentType>
       <documentType>
	 <name>AwardDocument</name>
	 <description>Manage Award</description>
	 <label>KC Award</label>
	 <parent>KC</parent>
	 <postProcessorName>org.kuali.coeus.sys.framework.workflow.KcPostProcessor</postProcessorName>
	 <superUserWorkgroupName>KC-WKFLW:KcAdmin</superUserWorkgroupName>
	 <blanketApproveWorkgroupName>KC-WKFLW:KcAdmin</blanketApproveWorkgroupName>
	 <defaultExceptionWorkgroupName>KC-WKFLW:KcAdmin</defaultExceptionWorkgroupName>
	 <docHandler>${kuali.docHandler.url.prefix}/awardHome.do?methodToCall=docHandler</docHandler>
	 <helpDefinitionURL>default.htm?turl=Documents/award.htm</helpDefinitionURL>
	 <active>true</active>
	 <attributes>
	   <attribute>
	     <name>AwardIdSearchAttribute</name>
	   </attribute>
	   <attribute>
	     <name>AwardTitleSearchAttribute</name>
	   </attribute>
	   <attribute>
	     <name>AccountNumberSearchAttribute</name>
	   </attribute>
	   <attribute>
	     <name>InvestigatorSearchAttribute</name>
	   </attribute>
	   <attribute>
	     <name>LeadUnitSearchAttribute</name>
	   </attribute>
	   <attribute>
	     <name>SponsorSearchAttribute</name>
	   </attribute>
	 </attributes>
	 <routePaths>
	   <routePath>
	     <start name="Initiated" nextNode="hasSync"/>
	     <split name="hasSync">
	       <branch name="True">
		 <requests name="SyncValidationApproval" nextNode="AwardStandardApprovalInSync"/>
		 <requests name="AwardStandardApprovalInSync" nextNode="ApplySync"/>
		 <requests name="ApplySync" nextNode="SyncFYIs"/>
		 <requests name="SyncFYIs" nextNode="JoinSync"/>
	       </branch>
	       <branch name="False">
		 <split name="isSyncChild" nextNode="JoinSync">
		   <branch name="False">
		     <requests name="AwardStandardApproval" nextNode="JoinSyncChild"/>
		   </branch>
		 </split>
		 <join name="JoinSyncChild"/>
	       </branch>
	     </split>
	     <join name="JoinSync"/>
	     
	   </routePath>
	 </routePaths>
	 <routeNodes>
	   <start name="Initiated">
	     <activationType>P</activationType>
	     <mandatoryRoute>false</mandatoryRoute>
	     <finalApproval>false</finalApproval>
	   </start>
	   <split name="hasSync">
	     <type>org.kuali.coeus.sys.framework.workflow.SimpleBooleanSplitNode</type>
	   </split>
	   <split name="isSyncChild">
	     <type>org.kuali.coeus.sys.framework.workflow.SimpleBooleanSplitNode</type>
	   </split>
	   <role name="ApplySync">
	     <activationType>S</activationType>
	     <qualifierResolverClass>org.kuali.rice.kew.role.NullQualifierResolver</qualifierResolverClass>
	     <mandatoryRoute>false</mandatoryRoute>
	   </role>
	   <role name="SyncFYIs">
	     <activationType>S</activationType>
	     <qualifierResolverClass>org.kuali.rice.kew.role.NullQualifierResolver</qualifierResolverClass>
	     <mandatoryRoute>false</mandatoryRoute>				
	   </role>
	   <join name="JoinSync"/>
	   <join name="JoinSyncChild"/>
	   <requests name="SyncValidationApproval">
	     <activationType>S</activationType>
	     <ruleTemplate>RoutedByUserRoleTemplate</ruleTemplate>
	     <mandatoryRoute>true</mandatoryRoute>
	   </requests>
	   <requests name="AwardStandardApproval">
	     <activationType>S</activationType>
	     <ruleTemplate>AwardStandardApproval</ruleTemplate>
	     <mandatoryRoute>false</mandatoryRoute>
	   </requests>
	   <requests name="AwardStandardApprovalInSync">
	     <activationType>S</activationType>
	     <ruleTemplate>AwardStandardApproval</ruleTemplate>
	     <mandatoryRoute>false</mandatoryRoute>
	   </requests>				
	 </routeNodes>
       </documentType>
       <documentType>
	 <name>TimeAndMoneyDocument</name>
	 <description>Manage TimeAndMoney</description>
	 <label>KC TimeAndMoney</label>
	 <postProcessorName>org.kuali.rice.krad.workflow.postprocessor.KualiPostProcessor</postProcessorName>
	 <superUserWorkgroupName>KC-WKFLW:KcAdmin</superUserWorkgroupName>
	 <blanketApproveWorkgroupName>KC-WKFLW:KcAdmin</blanketApproveWorkgroupName>
	 <defaultExceptionWorkgroupName>KC-WKFLW:KcAdmin</defaultExceptionWorkgroupName>
	 <docHandler>${kuali.docHandler.url.prefix}/timeAndMoney.do?methodToCall=docHandler</docHandler>
	 <parent>KC</parent>
	 <helpDefinitionURL>default.htm?turl=Documents/timeandmoney.htm</helpDefinitionURL>
	 <active>true</active>
	 <attributes>
	   <attribute>
	     <name>TimeAndMoneyAwardIdSearchAttribute</name>
	   </attribute>
	   <attribute>
	     <name>TimeAndMoneyAwardTitleSearchAttribute</name>
	   </attribute>
	   <attribute>
	     <name>TimeAndMoneyAccoutNumberSearchAttribute</name>
	   </attribute>
	   <attribute>
	     <name>TimeAndMoneyInvestigatorSearchAttribute</name>
	   </attribute>
	   <attribute>
	     <name>TimeAndMoneyLeadUnitSearchAttribute</name>
	   </attribute>
	   <attribute>
	     <name>TimeAndMoneySponsorSearchAttribute</name>
	   </attribute>
	   
	 </attributes>
	 <routingVersion>2</routingVersion>
	 <routePaths>
	   <routePath>
	     <start name="Initiated" />
	   </routePath>
	 </routePaths>
	 <routeNodes>
	   <start name="Initiated">
	     <activationType>P</activationType>
	     <mandatoryRoute>false</mandatoryRoute>
	     <finalApproval>false</finalApproval>
	   </start>
	 </routeNodes>
       </documentType>
       <documentType>
	 <name>CoiDisclosureDocument</name>
	 <parent>KC</parent>
	 <description>Manage COI Disclosure</description>
	 <label>KC COI Disclosure</label>
	 <postProcessorName>org.kuali.rice.krad.workflow.postprocessor.KualiPostProcessor</postProcessorName>
	 <superUserWorkgroupName>KC-WKFLW:KcAdmin</superUserWorkgroupName>
	 <blanketApproveWorkgroupName>KC-WKFLW:KcAdmin</blanketApproveWorkgroupName>
	 <defaultExceptionWorkgroupName>KC-WKFLW:KcAdmin</defaultExceptionWorkgroupName>
	 <docHandler>${kuali.docHandler.url.prefix}/coiDisclosure.do?methodToCall=docHandler</docHandler>
	 <helpDefinitionURL>default.htm?turl=Documents/disclosure.htm</helpDefinitionURL>
	 <active>true</active>
	 <routingVersion>2</routingVersion>
	 <routePaths>
	   <routePath>
	     <start name="Initiated" nextNode="COIReview" />
	     <requests name="COIReview" /> 
	   </routePath>
	 </routePaths>
	 <routeNodes>
	   <start name="Initiated">
	     <activationType>P</activationType>
	     <mandatoryRoute>false</mandatoryRoute>
	     <finalApproval>false</finalApproval>
	   </start>
	   <role name="COIReview">
	     <qualifierResolver>CoiDisclosureApprover-XPathQualifierResolver</qualifierResolver>
	     <activationType>P</activationType>
	     <mandatoryRoute>true</mandatoryRoute>                    
	     <finalApproval>false</finalApproval>
	   </role>				
	 </routeNodes>
       </documentType>
     </documentTypes>
   </data>
