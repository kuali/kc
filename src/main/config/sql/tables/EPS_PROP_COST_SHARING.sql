--DROP TABLE EPS_PROP_COST_SHARING;

CREATE TABLE EPS_PROP_COST_SHARING (
 	"PROPOSAL_NUMBER" VARCHAR2(12) constraint EPS_PROP_COST_SHARING_PN NOT NULL ENABLE, 
	"BUDGET_VERSION_NUMBER" NUMBER(3,0) constraint EPS_PROP_COST_SHARING_BV NOT NULL ENABLE,
	"COST_SHARE_ID" NUMBER(3,0) constraint EPS_PROP_COST_SHARING_ID NOT NULL ENABLE,
	 
	"FISCAL_YEAR" NUMBER(4,0), 
 	"AMOUNT"  NUMBER(12,2), 
	"COST_SHARING_PERCENTAGE" NUMBER(5,2), 
	"SOURCE_ACCOUNT" VARCHAR2(32),
	
	"UPDATE_TIMESTAMP" DATE constraint BUDGET_COST_SHARE_UT NOT NULL ENABLE, 
	"UPDATE_USER" VARCHAR2(60) constraint BUDGET_COST_SHARE_UU NOT NULL ENABLE, 
	"VER_NBR" NUMBER(8,0) DEFAULT 1  constraint  BUDGET_COST_SHARE_VN  NOT NULL ENABLE,
	"OBJ_ID" VARCHAR2(36) DEFAULT SYS_GUID()  constraint  BUDGET_COST_SHARE_OI  NOT NULL ENABLE,
	
	CONSTRAINT "PK_EPS_PROP_COST_SHARING_KRA" PRIMARY KEY ("PROPOSAL_NUMBER", "BUDGET_VERSION_NUMBER", "COST_SHARE_ID") ENABLE
);

ALTER TABLE EPS_PROP_COST_SHARING ADD CONSTRAINT "FK_EPS_PROP_COST_SHARING_KRA" FOREIGN KEY ("PROPOSAL_NUMBER", "BUDGET_VERSION_NUMBER")
	  REFERENCES "BUDGET" ("PROPOSAL_NUMBER", "VERSION_NUMBER");
